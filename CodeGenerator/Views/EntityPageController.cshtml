@{
    var dotModule = Model.Module == null ? "" : ("." + Model.Module);
    var modulePath = Model.Module ?? Model.RootNamespace;
}

namespace @(Model.RootNamespace)@(dotModule).Pages
{
    using Serenity;
    using System.Web.Mvc;

    public class @(Model.ClassName)Controller : Controller
    {
        [Authorize]
        public ActionResult Index()
        {
            SecurityHelper.EnsurePermission("@(Model.Permission)", RightErrorHandling.Redirect);
            return View("~/Modules/@(modulePath)/@(Model.ClassName)/@(Model.ClassName)Index.cshtml");
        }
    }
}