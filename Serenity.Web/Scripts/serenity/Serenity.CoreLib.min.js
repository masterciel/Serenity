var Q;(function(t){function e(t){return ss.arrayClone(t)}t.arrayClone=e;function n(t){return ss.isArray(t)}t.isArray=n;function r(t,e,n){ss.insert(t,e,n)}t.insert=r;function i(t,e){return ss.coalesce(t,e)}t.coalesce=i;function a(t){return ss.isValue(t)}t.isValue=a;function o(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}return ss.formatString.apply(ss,[t].concat(e))}t.format=o;function u(t,e,n){if(n===void 0){n=" "}while(t.length<e)t="0"+t;return t}t.padLeft=u;function s(t,e){var n=t.toString();while(n.length<e)n="0"+n;return n}t.zeroPad=s;function l(t,e,n){return ss.replaceAllString(t,e,n)}t.replaceAll=l;function f(t,e){return ss.startsWithString(t,e)}t.startsWith=f;function c(t,e){var n;e=$.extend({htmlEncode:true,okButton:ve("Dialogs.OkButton"),title:ve("Dialogs.AlertTitle"),onClose:null,onOpen:null,autoOpen:false,dialogClass:"s-MessageDialog s-AlertDialog",modal:true,width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(e.onOpen)e.onOpen.call(this)},close:function(){n.dialog("destroy");if(e.onClose)e.onClose()}},e);if(e.htmlEncode)t=O(t);if(!e.buttons){var r=[];r.push({text:e.okButton,click:function(){n.dialog("close")}});e.buttons=r}n=$('<div><div class="message"></div></div>').dialog(e).children(".message").html(t).parent().dialog("open")}t.alert=c;function d(t,e,n){var r;n=$.extend({htmlEncode:true,yesButton:ve("Dialogs.YesButton"),noButton:ve("Dialogs.NoButton"),title:ve("Dialogs.ConfirmationTitle"),onNo:null,onCancel:null,onClose:null,autoOpen:false,modal:true,dialogClass:"s-MessageDialog s-ConfirmDialog",width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(n.onOpen)n.onOpen.call(this)},close:function(){r.dialog("destroy");if(!i&&n.onCancel)n.onCancel()},overlay:{opacity:.77,background:"black"}},n);if(n.htmlEncode)t=O(t);var i=false;if(!n.buttons){var a=[];a.push({text:n.yesButton,click:function(){i=true;r.dialog("close");if(e)e()}});if(n.noButton)a.push({text:n.noButton,click:function(){i=true;r.dialog("close");if(n.onNo)n.onNo();else if(n.onCancel)n.onCancel()}});n.buttons=a}r=$('<div><div class="message"></div></div>').dialog(n).children(".message").html(t).parent().dialog("open")}t.confirm=d;function p(t,e,n){d(t,e,$.extend({title:ve("Dialogs.InformationTitle"),dialogClass:"s-MessageDialog s-InformationDialog",yesButton:ve("Dialogs.OkButton"),noButton:null},n))}t.information=p;function g(t,e){c(t,$.extend({title:ve("Dialogs.WarningTitle"),dialogClass:"s-MessageDialog s-WarningDialog"},e))}t.warning=g;function h(t){var e;var n=$("<div><iframe></iframe></div>");var r=$.extend({autoOpen:true,modal:true,width:"60%",height:"400",title:ve("Dialogs.AlertTitle"),open:function(){e=n.find("iframe").css({border:"none",width:"100%",height:"100%"})[0].contentDocument;e.open();e.write(r.html);e.close()},close:function(){e.open();e.write("");e.close();n.dialog("destroy").html("")}},t);n.dialog(r)}t.iframeDialog=h;function v(t){if(t==null)return null;if(typeof t=="number")return t;t=$.trim(t);if(t==null||!t.length)return null;if(t.length>=15||!/^\d+$/.test(t))return t;var e=parseInt(t,10);if(isNaN(e))return t;return e}t.toId=v;function m(t){window.console&&window.console.log(t)}var y=0;function b(t){if(y>0){y++;return}$.blockUI(t);y++}function w(t){t=$.extend({baseZ:2e3,message:"",overlayCSS:{opacity:"0.0",zIndex:2e3,cursor:"wait"},fadeOut:0},t);if(t.useTimeout){window.setTimeout(function(){b(t)},0)}else{b(t)}}t.blockUI=w;function x(){if(y>1){y--;return}y--;$.unblockUI({fadeOut:0})}t.blockUndo=x;function S(t,e){var n={};for(var r=0,i=t;r<i.length;r++){var a=i[r];var o=e(a)||"";var u=n[o];if(!u){u=n[o]=[]}u.push(a)}return n}t.toGrouping=S;function C(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(e(i))return true}return false}t.any=C;function A(t,e){var n=0;for(var r=0,i=t;r<i.length;r++){var a=i[r];if(e(a))n++}return n}t.count=A;function T(e,n){if(!e){return""}if(n==null){n=Be.dateFormat}var r=function(e){return t.zeroPad(e,2)};return n.replace(new RegExp("dd?|MM?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|fff|zz?z?|\\/","g"),function(n){switch(n){case"/":return Be.dateSeparator;case"hh":return r(e.getHours()<13?e.getHours():e.getHours()-12);case"h":return e.getHours()<13?e.getHours():e.getHours()-12;case"HH":return r(e.getHours());case"H":return e.getHours();case"mm":return r(e.getMinutes());case"m":return e.getMinutes();case"ss":return r(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return e.getFullYear().toString().substr(2,4);case"dd":return r(e.getDate());case"d":return e.getDate().toString();case"MM":return r(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return e.getHours()<12?"A":"P";case"tt":return e.getHours()<12?"AM":"PM";case"fff":return t.zeroPad(e.getMilliseconds(),3);case"zzz":case"zz":case"z":return"";default:return n}})}t.formatDate=T;function _(t){switch(t){case"&":return"&amp;";case">":return"&gt;";case"<":return"&lt;"}return t}function O(t){var e=t==null?"":t.toString();if(new RegExp("[><&]","g").test(e)){return e.replace(new RegExp("[><&]","g"),_)}return e}t.htmlEncode=O;function D(){return $("<div/>").appendTo(document.body)}t.newBodyDiv=D;function I(t,e,n){$("<option/>").val(e).text(n).appendTo(t)}t.addOption=I;function N(t){t.html("")}t.clearOptions=N;function E(t){I(t,"",ve("Controls.SelectEditor.EmptyItemText"))}t.addEmptyOption=E;function F(t){return(t==null?"":t).replace(new RegExp("^\\s+|\\s+$","g"),"")}t.trim=F;function k(t){return t==null||t.length===0}t.isEmptyOrNull=k;function H(t){if(t==null||t.length===0){return null}t=F(t);if(t.length===0){return null}else{return t}}t.trimToNull=H;function M(t){return H(t)==null}t.isTrimmedEmpty=M;function P(t){if(t==null||t.length===0){return""}return F(t)}t.trimToEmpty=P;function R(t,e){var n=t.attr("id");if(k(n)){return $("#"+e)}var r=$(n+e);if(r.length>0){return r}r=$(n+"_"+e);if(r.length>0){return r}while(true){var i=n.lastIndexOf("_");if(i<=0){return $("#"+e)}n=n.substr(0,i);r=$("#"+n+"_"+e);if(r.length>0){return r}}}t.findElementWithRelativeId=R;function L(t){return $("<i/>").append(t.eq(0).clone()).html()}t.outerHtml=L;function z(t){var e=0;t.parent().children().not(t).each(function(t,n){var r=$(n);if(r.is(":visible")){e+=r.outerHeight(true)}});e=t.parent().height()-e;if(t.css("box-sizing")!=="border-box"){e=e-(t.outerHeight(true)-t.height())}return e}t.layoutFillHeightValue=z;function U(t){var e=z(t);var n=e+"px";if(t.css("height")!=n){t.css("height",n)}}t.layoutFillHeight=U;function B(t){$("body").addClass("full-height-page");t.addClass("responsive-height");var e=function(){var e=t.parent().hasClass("page-content")||t.parent().is("section.content");if(e){t.css("height","1px").css("overflow","hidden")}U(t);if(e){t.css("overflow","")}t.triggerHandler("layout")};if($("body").hasClass("has-layout-event")){$("body").bind("layout",e)}else if(window.Metronic){window.Metronic.addResizeHandler(e)}else{$(window).resize(e)}e()}t.initFullHeightGridPage=B;function W(t){$("body").addClass("full-height-page");var e=function(){var e;try{e=parseInt($(".page-content").css("min-height")||"0")-parseInt($(".page-content").css("padding-top")||"0")-parseInt($(".page-content").css("padding-bottom")||"0")}catch(n){e=100}t(e)};if(window.Metronic){window.Metronic.addResizeHandler(e)}else{$(window).resize(e)}e()}t.addFullHeightResizeHandler=W;function j(t){Serenity.LazyLoadHelper.executeEverytimeWhenShown(t,function(){t.triggerHandler("layout")},true)}t.triggerLayoutOnShow=j;function V(t){t.css("height","100%");j(t)}t.autoFullHeight=V;function q(){var t=navigator.userAgent.indexOf("Mobi")>=0||window.matchMedia("(max-width: 767px)").matches;var e=$(document.body);if(e.hasClass("mobile-device")){if(!t){e.removeClass("mobile-device")}}else if(t){e.addClass("mobile-device")}}t.setMobileDeviceMode=q;t.defaultNotifyOptions={timeOut:3e3,showDuration:250,hideDuration:500,extendedTimeOut:500,positionClass:"toast-top-full-width"};function K(t){if(typeof toastr==="undefined"){return}var e=$(window.document.body).children(".ui-dialog:visible").last();var n=toastr.getContainer(null,t);if(n.length===0){return}if(e.length>0){var r=e.position();n.addClass("positioned-toast toast-top-full-width");n.css({position:"absolute",top:r.top+28+"px",left:r.left+6+"px",width:e.width()-12+"px"})}else{n.addClass("toast-top-full-width");if(n.hasClass("positioned-toast")){n.removeClass("positioned-toast");n.css({position:"",top:"",left:"",width:""})}}}t.positionToastContainer=K;function Q(e){e=$.extend({},t.defaultNotifyOptions,e);K(true);return e}function Y(t,e,n){toastr.warning(t,e,Q(n))}t.notifyWarning=Y;function G(t,e,n){toastr.success(t,e,Q(n))}t.notifySuccess=G;function J(t,e,n){toastr.info(t,e,Q(n))}t.notifyInfo=J;function Z(t,e,n){toastr.error(t,e,Q(n))}t.notifyError=Z;function X(t){return Ve.ensure("RemoteData."+t)}t.getRemoteData=X;function te(t){return Ve.ensureAsync("RemoteData."+t)}t.getRemoteDataAsync=te;function ee(t){return Ve.ensure("Lookup."+t)}t.getLookup=ee;function ne(t){return Ve.ensureAsync("Lookup."+t)}t.getLookupAsync=ne;function re(t){Ve.reload("Lookup."+t)}t.reloadLookup=re;function ie(t){return Ve.reloadAsync("Lookup."+t)}t.reloadLookupAsync=ie;function ae(t){return Ve.ensure("Columns."+t)}t.getColumns=ae;function oe(t){return Ve.ensureAsync("Columns."+t)}t.getColumnsAsync=oe;function ue(t){return Ve.ensure("Form."+t)}t.getForm=ue;function se(t){return Ve.ensureAsync("Form."+t)}t.getFormAsync=se;function le(t){return Ve.ensure("Template."+t)}t.getTemplate=le;function fe(t){return Ve.ensureAsync("Template."+t)}t.getTemplateAsync=fe;function ce(t){return Ve.canLoad(t)}t.canLoadScriptData=ce;function de(t){var e=function(e){if(Ue.notLoggedInHandler!=null&&e&&e.Error&&Ue.notLoggedInHandler(t,e)){return}if(t.onError!=null){t.onError(e);return}ze.showServiceError(e.Error)};var n=t.service;if(n&&n.length&&n.charAt(0)!="~"&&n.charAt(0)!="/"&&n.indexOf("://")<0)n=ye("~/services/")+n;t=$.extend({dataType:"json",contentType:"application/json",type:"POST",cache:false,blockUI:true,url:n,data:$.toJSON(t.request),success:function(e,n,r){try{if(!e.Error&&t.onSuccess){t.onSuccess(e)}}finally{if(t.blockUI){x()}t.onCleanup&&t.onCleanup()}},error:function(n,r,i){try{if(n.status===403){var a=null;try{a=n.getResponseHeader("Location")}catch(o){a=null}if(a){window.top.location.href=a;return}}if((n.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var u=$.parseJSON(n.responseText);if(u&&u.Error){e(u);return}}var s=n.responseText;h({html:s})}finally{if(t.blockUI){x()}t.onCleanup&&t.onCleanup()}}},t);if(t.blockUI){w(null)}return $.ajax(t)}t.serviceCall=de;function pe(t,e,n,r){return de($.extend({service:t,request:e,onSuccess:n},r))}t.serviceRequest=pe;function ge(t,e,n){if(t.EqualityFilter==null){t.EqualityFilter={}}t.EqualityFilter[e]=n}t.setEquality=ge;function he(e){return t.replaceAll(t.replaceAll(P(e),"\r\n"," "),"\n"," ").trim()}t.toSingleLine=he;function ve(t){var e=je.$table[t];if(e==null){e=t||""}return e}t.text=ve;function me(t){return je.$table[t]}t.tryGetText=me;function ye(t){if(t&&t.substr(0,2)==="~/"){return Ue.applicationPath+t.substr(2)}return t}t.resolveUrl=ye;function be(t){if(t===0)return"0";else if(!t)return"";var e=Math.floor(t/24/60);var n="";if(e>0){n+=e.toString()}var r=s(Math.floor(t%(24*60)/60),2)+":"+s(t%60,2);if(r!="00:00"){if(e>0)n+=".";n+=r}return n}t.formatDayHourAndMin=be;function we(t){if(t==null)return"";var e=function(t){return(t<10?"0":"")+t};var n=t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes());var r=Number(t.getUTCSeconds()+"."+(t.getUTCMilliseconds()<100?"0":"")+e(t.getUTCMilliseconds()));n+=":"+e(r)+"Z";return n}t.formatISODateTimeUTC=we;function xe(t,e,n,r){var i="-";if(isNaN(t)){return null}n=n||Be.decimalSeparator;r=r||Be.get_groupSeperator();var a="";if(e.indexOf(".")>-1){var o=n;var u=e.substring(e.lastIndexOf(".")+1);t=Se(t,u.length);var s=t%1;var l=new String(s.toFixed(u.length));l=l.substring(l.lastIndexOf(".")+1);for(var f=0;f<u.length;f++){if(u.charAt(f)=="#"&&l.charAt(f)!="0"){o+=l.charAt(f);continue}else if(u.charAt(f)=="#"&&l.charAt(f)=="0"){var c=l.substring(f);if(c.match("[1-9]")){o+=l.charAt(f);continue}else break}else if(u.charAt(f)=="0")o+=l.charAt(f);else o+=u.charAt(f)}a+=o}else t=Math.round(t);var d=Math.floor(t);if(t<0)d=Math.ceil(t);var p="";if(e.indexOf(".")==-1)p=e;else p=e.substring(0,e.indexOf("."));var g="";if(!(d==0&&p.substr(p.length-1)=="#")){var h=new String(Math.abs(d));var v=9999;if(p.lastIndexOf(",")!=-1)v=p.length-p.lastIndexOf(",")-1;var m=0;for(var f=h.length-1;f>-1;f--){g=h.charAt(f)+g;m++;if(m==v&&f!=0){g=r+g;m=0}}if(p.length>g.length){var y=p.indexOf("0");if(y!=-1){var b=p.length-y;var w=p.length-g.length-1;while(g.length<b){var x=p.charAt(w);if(x==",")x=r;g=x+g;w--}}}}if(!g&&p.indexOf("0",p.length-1)!==-1)g="0";a=g+a;if(t<0)a=i+a;if(a.lastIndexOf(n)==a.length-1){a=a.substring(0,a.length-1)}return a}t.formatNumber=xe;function Se(t,e){var n=Math.pow(10,e||0);var r=(Math.round(t*n)/n).toString();if(e>0){var i=r.indexOf(".");if(i==-1){r+=".";i=0}else{i=r.length-(i+1)}while(i<e){r+="0";i++}}return parseFloat(r)}var $e=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function Ce(t){t=F(t.toString());var e=Be.get_groupSeperator();if(t&&t.length&&t.indexOf(e)>0){t=t.replace(new RegExp("(\\b\\d{1,3})\\"+e+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!/^[-\+]?\d+$/.test(t))return NaN;return parseInt(t,10)}t.parseInteger=Ce;function Ae(t,e){if(!t||!t.length)return null;var n;var r;var i,a,o;r=_e(t);if(!r)return false;if(r.length==3){e=e||Be.dateOrder;switch(e){case"dmy":i=parseInt(r[0],10);a=parseInt(r[1],10)-1;o=parseInt(r[2],10);break;case"ymd":i=parseInt(r[2],10);a=parseInt(r[1],10)-1;o=parseInt(r[0],10);break;case"mdy":default:i=parseInt(r[1],10);a=parseInt(r[0],10)-1;o=parseInt(r[2],10);break}if(isNaN(i)||isNaN(a)||isNaN(o)||i<1||i>31||a<0||a>11||o>9999||o<0)return false;if(o<100){var u=(new Date).getFullYear();var s=u%100+10;o+=u-u%100+(o<=s?0:-100)}try{n=new Date(o,a,i);if(isNaN(n.getFullYear()))return false}catch(l){return false}}else if(r.length==1){try{n=new Date(r[0]);if(isNaN(n.getFullYear()))return false}catch(l){return false}}return n}t.parseDate=Ae;function Te(t){if(t==null)return null;t=F(t.toString());if(t.length==0)return null;var e=Be.get_groupSeperator();if(t&&t.length&&t.indexOf(e)>0){t=t.replace(new RegExp("(\\b\\d{1,3})\\"+e+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!new RegExp("^\\s*([-\\+])?(\\d*)\\"+Be.decimalSeparator+"?(\\d*)\\s*$").test(t))return NaN;return parseFloat(t.toString().replace(Be.decimalSeparator,"."))}t.parseDecimal=Te;function _e(t){t=F(t);if(!t.length)return;if(t.indexOf("/")>=0)return t.split("/");else if(t.indexOf(".")>=0)return t.split(".");else if(t.indexOf("-")>=0)return t.split("-");else if(t.indexOf("\\")>=0)return t.split("\\");else return[t]}t.splitDateString=_e;function Oe(t){if(!t||!t.length)return null;var e=Date.parse(t);if(!isNaN(e)&&typeof e=="Date")return e;t=t+"";if(typeof t!="string"||t.length===0){return null}var n=t.match($e);if(typeof n=="undefined"||n===null){return null}var r,i,a,o,u,s,l;r=parseInt(n[1],10);if(typeof n[2]=="undefined"||n[2]===""){return new Date(r)}i=parseInt(n[2],10)-1;a=parseInt(n[3],10);if(typeof n[4]=="undefined"||n[4]===""){return new Date(r,i,a)}o=parseInt(n[4],10);u=parseInt(n[5],10);s=typeof n[6]!="undefined"&&n[6]!==""?parseInt(n[6],10):0;if(typeof n[7]!="undefined"&&n[7]!==""){l=Math.round(1e3*parseFloat("0."+n[7]))}else{l=0}if((typeof n[8]=="undefined"||n[8]==="")&&(typeof n[9]=="undefined"||n[9]==="")){return new Date(r,i,a,o,u,s,l)}var f;if(typeof n[9]!="undefined"&&n[9]!==""){f=parseInt(n[10],10)*36e5;if(typeof n[11]!="undefined"&&n[11]!==""){f+=parseInt(n[11],10)*6e4}if(n[9]=="-"){f=-f}}else{f=0}return new Date(Date.UTC(r,i,a,o,u,s,l)-f)}t.parseISODateTime=Oe;function De(t){var e=F(t);if(e.length<4||e.length>5)return NaN;var n,r;if(e.charAt(1)==":"){n=Ce(e.substr(0,1));r=Ce(e.substr(2,2))}else{if(e.charAt(2)!=":")return NaN;n=Ce(e.substr(0,2));r=Ce(e.substr(3,2))}if(isNaN(n)||isNaN(r)||n<0||n>23||r<0||r>59)return NaN;return n*60+r}t.parseHourAndMin=De;function Ie(t){var e;var n=F(t);if(!n)return NaN;var r=n.split(".");if(r.length==0||r.length>2)return NaN;if(r.length==1){e=Ce(r[0]);if(!isNaN(e))return e*24*60;return De(r[0])}else{e=Ce(r[0]);var i=De(r[1]);if(isNaN(e)||isNaN(i))return NaN;return e*24*60+i}}t.parseDayHourAndMin=Ie;function Ne(t){var e;if(t===undefined)e=location.search.substring(1,location.search.length);else e=t||"";var n={};var r=e.split("&");for(var i=0;i<r.length;i++){var a=r[i].split("=");var o=decodeURIComponent(a[0]);n[o]=a.length>=2?decodeURIComponent(a[1]):o}return n}t.parseQueryString=Ne;var Ee;function Fe(t,e){var n="AaBbCcÇçFfGgĞğHhIıİiJjKkLlMmNnOoÖöPpRrSsŞşTtUuÜüVvYyZz";t=t||"";e=e||"";if(t==e)return 0;if(!Ee){Ee={};for(var r=0;r<n.length;r++){Ee[n.charAt(r)]=r+1}}for(var i=0,a=Math.min(t.length,e.length);i<a;i++){var o=t.charAt(i),u=e.charAt(i);if(o===u)continue;var s=Ee[o],l=Ee[u];if(s!=null&&l!=null)return s<l?-1:1;var f=o.localeCompare(u);if(f==0)continue;return f}return t.localeCompare(e)}t.turkishLocaleCompare=Fe;function ke(t){if(!t)return t;return t.replace(/i/g,"İ").replace(/ı/g,"I").toUpperCase()}t.turkishLocaleToUpper=ke;function He(t){var e=$("<form/>").attr("method","POST").attr("action",t.url?ye(t.url):ye("~/services/"+t.service)).appendTo(document.body);if(t.target)e.attr("target",t.target);var n=$("<div/>").appendTo(e);$("<input/>").attr("type","hidden").attr("name","request").val($["toJSON"](t.request)).appendTo(n);$("<input/>").attr("type","submit").appendTo(n);e.submit();window.setTimeout(function(){e.remove()},0)}t.postToService=He;function Me(t){var e=$("<form/>").attr("method","POST").attr("action",ye(t.url)).appendTo(document.body);if(t.target)e.attr("target",t.target);var n=$("<div/>").appendTo(e);if(t.params!=null){for(var r in t.params){$("<input/>").attr("type","hidden").attr("name",r).val(t.params[r]).appendTo(n)}}$("<input/>").attr("type","submit").appendTo(n);e.submit();window.setTimeout(function(){e.remove()},0)}t.postToUrl=Me;if($.fn.button&&$.fn.button.noConflict){var Pe=$.fn.button.noConflict();$.fn.btn=Pe}$.fn.flexHeightOnly=function(t){if(t===void 0){t=1}return this.flexWidthHeight(0,t)};$.fn.flexWidthOnly=function(t){if(t===void 0){t=1}return this.flexWidthHeight(t,0)};$.fn.flexWidthHeight=function(t,e){if(t===void 0){t=1}if(e===void 0){e=1}return this.addClass("flexify").data("flex-x",t).data("flex-y",e)};$.fn.flexX=function(t){return this.data("flex-x",t)};$.fn.flexY=function(t){return this.data("flex-y",t)};function Re(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}var r,i,a,o,u,s,l=arguments[0]||{},f=1,c=arguments.length;if(typeof l!=="object"&&!$.isFunction(l)){l={}}if(f===c){l={};f=0}for(;f<c;f++){if((r=arguments[f])!==null){if($.isArray(r)){l=$.extend(true,[],r)}else{for(i in r){a=l[i];o=r[i];if(l===o){continue}if(o&&($.isPlainObject(o)||(u=$.isArray(o)))){if(u){u=false;s=a&&$.isArray(a)?a:[]}else{s=a&&$.isPlainObject(a)?a:{}}l[i]=Re(s,o)}else if(o!==undefined){l[i]=o}}}}}return l}t.deepClone=Re;function Le(t,e,n){function r(t,e,i){if(!t)return;if($.isArray(t)||t instanceof Date)return;var a=typeof t;if(a=="string"||a=="number")return;if($.isFunction(t))n(t,e);if(i>3)return;for(var o=0,u=Object.getOwnPropertyNames(t);o<u.length;o++){var s=u[o];if(s.charAt(0)<"A"||s.charAt(0)>"Z")continue;if(s.indexOf("$")>=0)continue;if(s=="prototype")continue;r(t[s],e+"."+s,i+1)}}for(var i=0,a=e;i<a.length;i++){var o=a[i];if(o==null||!o.length){continue}if(o.indexOf(".")>=0){var u=t;var s=o.split(".");for(var l=0,f=s;l<f.length;l++){var c=f[l];if(!c.length)continue;u=u[c];if(!u)continue}r(u,o,0)}r(t[o],o,0)}}var ze;(function(e){function n(e){var n;if(e==null){n="??ERROR??"}else{n=e.Message;if(n==null){n=e.Code}}t.alert(n)}e.showServiceError=n})(ze=t.ErrorHandling||(t.ErrorHandling={}));var Ue;(function(t){t.applicationPath="/";t.emailAllowOnlyAscii=true;t.rootNamespaces=["Serenity"];t.notLoggedInHandler=null;var e=$("link#ApplicationPath");if(e.length>0){t.applicationPath=e.attr("href")}})(Ue=t.Config||(t.Config={}));var Be;(function(e){e.decimalSeparator=".";e.dateSeparator="/";e.dateOrder="dmy";e.dateFormat="dd/MM/yyyy";e.dateTimeFormat="dd/MM/yyyy HH:mm:ss";function n(){return e.decimalSeparator===","?".":","}e.get_groupSeperator=n;var r=t.trimToNull($("script#ScriptCulture").html());if(r!=null){var i=$.parseJSON(r);if(i.DecimalSeparator!=null)e.decimalSeparator=i.DecimalSeparator;if(i.DateSeparator!=null)e.dateSeparator=i.DateSeparator;if(i.DateOrder!=null)e.dateOrder=i.DateOrder;if(i.DateFormat!=null)e.dateFormat=i.DateFormat;if(i.DateTimeFormat!=null)e.dateTimeFormat=i.DateTimeFormat}})(Be=t.Culture||(t.Culture={}));var We=function(){function e(t,e){this.items=[];this.itemById={};t=t||{};this.textFormatter=t.textFormatter;this.idField=t.idField;this.parentIdField=t.parentIdField;this.textField=t.textField;this.textFormatter=t.textFormatter;if(e!=null)this.update(e)}e.prototype.update=function(e){this.items=[];this.itemById={};if(e){for(var n=0,r=e;n<r.length;n++){var i=r[n];this.items.push(i)}}var a=this.idField;if(!t.isEmptyOrNull(a)){for(var o=0,u=this.items;o<u.length;o++){var s=u[o];var l=s[a];if(l!=null){this.itemById[l]=s}}}};e.prototype.get_idField=function(){return this.idField};e.prototype.get_parentIdField=function(){return this.parentIdField};e.prototype.get_textField=function(){return this.textField};e.prototype.get_textFormatter=function(){return this.textFormatter};e.prototype.get_itemById=function(){return this.itemById};e.prototype.get_items=function(){return this.items};return e}();t.Lookup=We;var je=function(){function e(t){this.key=t}e.add=function(t,n){if(!t){return}n=n||"";for(var r=0,i=Object.keys(t);r<i.length;r++){var a=i[r];var o=n+a;var u=t[a];if(typeof u==="object"){e.add(u,o+".")}else{e.$table[o]=u}}};e.prototype.get=function(){var t=e.$table[this.key];if(t==null){t=this.key||""}return t};e.prototype.toString=function(){var t=e.$table[this.key];if(t==null){t=this.key||""}return t};e.$table={};e.empty=new e("");e.initializeTextClass=function(n,r){var i=t.arrayClone(Object.keys(n));for(var a=0;a<i.length;a++){var o=i[a];var u=n[o];if(u instanceof e){var s=u;var l=r+o;e.$table[l]=s.$key;n[o]=new e(l)}}};e.getDefault=function(t,n){var r=e.$table[t];if(r==null){r=n;if(r==null){r=t||""}}return r};return e}();t.LT=je;var Ve;(function(e){var n={};var r={};function i(t,e,n){$(document.body).bind("scriptdatachange."+e,function(e,r){if(r==t){n()}})}e.bindToChange=i;function a(t){$(document.body).triggerHandler("scriptdatachange",[t])}e.triggerChange=a;function o(t){$(document.body).unbind("scriptdatachange."+t)}e.unbindFromChange=o;function u(t){$.ajax({async:false,cache:true,type:"GET",url:t,data:null,dataType:"script"})}function s(e){return RSVP.resolve().then(function(){t.blockUI(null);return RSVP.resolve($.ajax({async:true,cache:true,type:"GET",url:e,data:null,dataType:"script"}).always(function(){t.blockUndo()}))},null)}function l(e){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}e=e+".js?"+n[e];u(t.resolveUrl("~/DynJS.axd/")+e)}function f(e){return RSVP.resolve().then(function(){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}e=e+".js?"+n[e];return s(t.resolveUrl("~/DynJS.axd/")+e)},null)}function c(e){var n=r[e];if(n==null){l(e)}n=r[e];if(n==null)throw new Error(t.format("Can't load script data: {0}!",e));return n}e.ensure=c;function d(e){return RSVP.resolve().then(function(){var n=r[e];if(n!=null){return RSVP.resolve(n)}return f(e).then(function(){n=r[e];if(n==null){throw new Error(t.format("Can't load script data: {0}!",e))}return n},null)},null)}e.ensureAsync=d;function p(e){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}n[e]=(new Date).getTime().toString();l(e);var i=r[e];return i}e.reload=p;function g(e){return RSVP.resolve().then(function(){if(n[e]==null){throw new Error(t.format("Script data {0} is not found in registered script list!",e))}n[e]=(new Date).getTime().toString();return f(e).then(function(){return r[e]},null)},null)}e.reloadAsync=g;function h(t){return r[t]!=null||n[t]!=null}e.canLoad=h;function v(t){n={};for(var e in t){n[e]=t[e].toString()}}e.setRegisteredScripts=v;function m(t,e){r[t]=e;a(t)}e.set=m})(Ve=t.ScriptData||(t.ScriptData={}));(function(e){if(typeof RSVP!==undefined){RSVP.on&&RSVP.on(function(t){m(t);m(t.get_stack&&t.get_stack()||t.stack)})}ss.initAssembly({},"App",{});e.Q$Externals=t;e.Q$Config=t.Config;e.Q$Culture=t.Culture;e.Q$Lookup=t.Lookup;e.Q$ScriptData=t.ScriptData;e.Q$LT=t.LT;function n(){Le(e,t.Config.rootNamespaces,function(t,e){if(t.hasOwnProperty("__typeName")&&!t.__register)return;if(!t.__interfaces&&t.prototype.format&&e.substr(-9)=="Formatter"){t.__class=true;t.__interfaces=[Serenity.ISlickFormatter]}if(!t.__class){var n=ss.getBaseType(t);if(n.__class)t.__class=true}if(t.__class){t.__typeName=e;if(!t.__assembly){t.__assembly=ss.__assemblies["App"]}t.__assembly.__types[e]=t}delete t.__register})}$(function(){n();q();$(e).bind("resize",function(){q()})})})(window||{})})(Q||(Q={}));var Serenity;(function(t){var e=function(){function t(t){this.value=t}return t}();t.ColumnsKeyAttribute=e;var n=function(){function t(t){this.value=t}return t}();t.DialogTypeAttribute=n;var r=function(){function t(){}return t}();t.EditorAttribute=r;var i=function(){function t(t){this.value=t}return t}();t.ElementAttribute=i;var a=function(){function t(t){this.value=t}return t}();t.EntityTypeAttribute=a;var o=function(){function t(t){this.value=t}return t}();t.EnumKeyAttribute=o;var u=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.FlexifyAttribute=u;var s=function(){function t(t){this.value=t}return t}();t.FormKeyAttribute=s;var l=function(){function t(t){this.origin=t}return t}();t.GeneratedCodeAttribute=l;var f=function(){function t(t){this.value=t}return t}();t.IdPropertyAttribute=f;var c=function(){function t(t){this.value=t}return t}();t.IsActivePropertyAttribute=c;var d=function(){function t(t){this.value=t}return t}();t.ItemNameAttribute=d;var p=function(){function t(t){this.value=t}return t}();t.LocalTextPrefixAttribute=p;var g=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.MaximizableAttribute=g;var h=function(){function t(t){this.value=t}return t}();t.NamePropertyAttribute=h;var v=function(){function t(){}return t}();t.OptionAttribute=v;var m=function(){function t(t){this.value=t}return t}();t.OptionsTypeAttribute=m;var y=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.PanelAttribute=y;var b=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.ResizableAttribute=b;var w=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.ResponsiveAttribute=w;var x=function(){function t(t){this.value=t}return t}();t.ServiceAttribute=x;var S;(function(t){var e=t;function n(t){return t==null||t.length===0||t.length===1&&typeof t[0]=="string"&&t[0].length===0}t.isEmpty=n;function r(t,n,r){if(e.isEmpty(t))return r;if(e.isEmpty(r))return t;return[t,n,r]}t.join=r;function i(t){return e.isEmpty(t)?t:["()",t]}t.paren=i})(S=t.Criteria||(t.Criteria={}));var $;(function(S){function $(t,e){var n=t.__metadata;t.__metadata=t.__metadata||{};t.__metadata.attr=t.__metadata.attr||[];t.__metadata.attr.push(e)}S.addAttribute=$;function C(t,e,n){var r=t.__metadata;t.__metadata=t.__metadata||{};t.__metadata.members=t.__metadata.members||[];var i=undefined;for(var a=0,o=t.__metadata.members;a<o.length;a++){var u=o[a];if(u.name==e){i=u;break}}if(!i){i={name:e};t.__metadata.members.push(i)}i.attr=i.attr||[];i.attr.push(n)}S.addMemberAttr=C;function A(t){return function(n){$(n,new e(t))}}S.columnsKey=A;function T(t){return function(e){$(e,new n(t))}}S.dialogType=T;function _(t){return function(e){var n=new r;if(t!==undefined)n.key=t;$(e,n)}}S.editor=_;function O(t){return function(e){$(e,new i(t))}}S.element=O;function D(t){return function(e){$(e,new a(t))}}S.entityType=D;function I(t){return function(e){$(e,new o(t))}}S.enumKey=I;function N(t){if(t===void 0){t=true}return function(e){$(e,new u(t))}}S.flexify=N;function E(t){return function(e){$(e,new s(t))}}S.formKey=E;function F(t){return function(e){$(e,new l(t))}}S.generatedCode=F;function k(t){return function(e){$(e,new f(t))}}S.idProperty=k;function H(t,e){return function(n){n.__register=true;n.__class=true;n.__assembly=e||ss.__assemblies["App"];if(t)n.__interfaces=t}}S.registerClass=H;function M(e,n){if(e===void 0){e=[t.ISlickFormatter]}return H(e,n)}S.registerFormatter=M;function P(t){return function(e){$(e,new d(t))}}S.itemName=P;function R(t){return function(e){$(e,new c(t))}}S.isActiveProperty=R;function L(t){return function(e){$(e,new p(t))}}S.localTextPrefix=L;function z(t){if(t===void 0){t=true}return function(e){$(e,new g(t))}}S.maximizable=z;function U(t){return function(e){$(e,new h(t))}}S.nameProperty=U;function B(){return function(t,e){C(t.constructor,e,new v)}}S.option=B;function W(t){return function(e){$(e,new m(t))}}S.optionsType=W;function j(t){if(t===void 0){t=true}return function(e){$(e,new y(t))}}S.panel=j;function V(t){if(t===void 0){t=true}return function(e){$(e,new b(t))}}S.resizable=V;function q(t){if(t===void 0){t=true}return function(e){$(e,new w(t))}}S.responsive=q;function K(t){return function(e){$(e,new x(t))}}S.service=K})($=t.Decorators||(t.Decorators={}));var C;(function(t){function e(t,e,n){if(!t)return;var i=r(t);if(!i)return;var a=i[e];if(a==null){return}if(a===t.tabs("option","active")){t.tabs("option","active",0)}t.tabs(n?"disable":"enable",a)}t.setDisabled=e;function n(t){var e=t.children("ul").children("li").eq(t.tabs("option","active")).children("a").attr("href").toString();var n="_Tab";var r=e.lastIndexOf(n);if(r>=0){e=e.substr(r+n.length)}return e}t.activeTabKey=n;function r(t){var e=t.data("indexByKey");if(!e){e={};t.children("ul").children("li").children("a").each(function(t,n){var r=n.getAttribute("href").toString();var i="_Tab";var a=r.lastIndexOf(i);if(a>=0){r=r.substr(a+i.length)}e[r]=t});t.data("indexByKey",e)}return e}t.indexByKey=r})(C=t.TabsExtensions||(t.TabsExtensions={}));var A;(function(t){var e=0;function n(t,n){e++;var r="ExecuteOnceWhenShown"+e;var i=false;if(t.is(":visible")){n()}else{var a=t.closest(".ui-tabs");if(a.length>0){a.bind("tabsshow."+r,function(e){if(t.is(":visible")){a.unbind("tabsshow."+r);if(!i){i=true;t.unbind("shown."+r);n()}}})}var o;if(t.hasClass("ui-dialog")){o=t.children(".ui-dialog-content")}else{o=t.closest(".ui-dialog-content")}if(o.length>0){o.bind("dialogopen."+r,function(){o.unbind("dialogopen."+r);if(t.is(":visible")&&!i){i=true;t.unbind("shown."+r);n()}})}t.bind("shown."+r,function(){if(t.is(":visible")){t.unbind("shown."+r);if(!i){i=true;n()}}})}}t.executeOnceWhenShown=n;function r(t,n,r){e++;var i="ExecuteEverytimeWhenShown"+e;var a=t.is(":visible");if(a&&r){n()}var o=function(e){if(t.is(":visible")){if(!a){a=true;n()}}else{a=false}};var u=t.closest(".ui-tabs");if(u.length>0){u.bind("tabsactivate."+i,o)}var s=t.closest(".ui-dialog-content");if(s.length>0){s.bind("dialogopen."+i,o)}t.bind("shown."+i,o)}t.executeEverytimeWhenShown=r})(A=t.LazyLoadHelper||(t.LazyLoadHelper={}))})(Serenity||(Serenity={}));