var Q;(function(t){function e(t,e){var n;e=$.extend({htmlEncode:true,okButton:re("Dialogs.OkButton"),title:re("Dialogs.AlertTitle"),onClose:null,onOpen:null,autoOpen:false,dialogClass:"s-MessageDialog s-AlertDialog",modal:true,width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(e.onOpen)e.onOpen.call(this)},close:function(){n.dialog("destroy");if(e.onClose)e.onClose()}},e);if(e.htmlEncode)t=g(t);if(!e.buttons){var r=[];r.push({text:e.okButton,click:function(){n.dialog("close")}});e.buttons=r}n=$('<div><div class="message"></div></div>').dialog(e).children(".message").html(t).parent().dialog("open")}t.alert=e;function n(t,e,n){var r;n=$.extend({htmlEncode:true,yesButton:re("Dialogs.YesButton"),noButton:re("Dialogs.NoButton"),title:re("Dialogs.ConfirmationTitle"),onNo:null,onCancel:null,onClose:null,autoOpen:false,modal:true,dialogClass:"s-MessageDialog s-ConfirmDialog",width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(n.onOpen)n.onOpen.call(this)},close:function(){r.dialog("destroy");if(!i&&n.onCancel)n.onCancel()},overlay:{opacity:.77,background:"black"}},n);if(n.htmlEncode)t=g(t);var i=false;if(!n.buttons){var o=[];o.push({text:n.yesButton,click:function(){i=true;r.dialog("close");if(e)e()}});if(n.noButton)o.push({text:n.noButton,click:function(){i=true;r.dialog("close");if(n.onNo)n.onNo();else if(n.onCancel)n.onCancel()}});n.buttons=o}r=$('<div><div class="message"></div></div>').dialog(n).children(".message").html(t).parent().dialog("open")}t.confirm=n;function r(t,e,r){n(t,e,$.extend({title:re("Dialogs.InformationTitle"),dialogClass:"s-MessageDialog s-InformationDialog",yesButton:re("Dialogs.OkButton"),noButton:null},r))}t.information=r;function i(t,n){e(t,$.extend({title:re("Dialogs.WarningTitle"),dialogClass:"s-MessageDialog s-WarningDialog"},n))}t.warning=i;function o(t){var e;var n=$("<div><iframe></iframe></div>");var r=$.extend({autoOpen:true,modal:true,width:"60%",height:"400",title:re("Dialogs.AlertTitle"),open:function(){e=n.find("iframe").css({border:"none",width:"100%",height:"100%"})[0].contentDocument;e.open();e.write(r.html);e.close()},close:function(){e.open();e.write("");e.close();n.dialog("destroy").html("")}},t);n.dialog(r)}t.iframeDialog=o;function a(t){if(t==null)return null;if(typeof t=="number")return t;t=$.trim(t);if(t==null||!t.length)return null;if(t.length>=15||!/^\d+$/.test(t))return t;var e=parseInt(t,10);if(isNaN(e))return t;return e}t.toId=a;function u(t){window.console&&window.console.log(t)}var s=0;function l(t){if(s>0){s++;return}$.blockUI(t);s++}function f(t){t=$.extend({baseZ:2e3,message:"",overlayCSS:{opacity:"0.0",zIndex:2e3,cursor:"wait"},fadeOut:0},t);if(t.useTimeout){window.setTimeout(function(){l(t)},0)}else{l(t)}}t.blockUI=f;function c(){if(s>1){s--;return}s--;$.unblockUI({fadeOut:0})}t.blockUndo=c;function d(t,e){if(!t){return""}if(e==null){e=Ie.dateFormat}var n=function(t){return ss.padLeftString(t.toString(),2,48)};return e.replace(new RegExp("dd?|MM?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|fff|zz?z?|\\/","g"),function(e){switch(e){case"/":return Ie.dateSeparator;case"hh":return n(t.getHours()<13?t.getHours():t.getHours()-12);case"h":return t.getHours()<13?t.getHours():t.getHours()-12;case"HH":return n(t.getHours());case"H":return t.getHours();case"mm":return n(t.getMinutes());case"m":return t.getMinutes();case"ss":return n(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return t.getFullYear();case"yy":return t.getFullYear().toString().substr(2,4);case"dd":return n(t.getDate());case"d":return t.getDate().toString();case"MM":return n(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?"A":"P";case"tt":return t.getHours()<12?"AM":"PM";case"fff":return ss.padLeftString(t.getMilliseconds().toString(),3,48);case"zzz":case"zz":case"z":return"";default:return e}})}t.formatDate=d;function p(t){switch(t){case"&":return"&amp;";case">":return"&gt;";case"<":return"&lt;"}return t}function g(t){var e=t==null?"":t.toString();if(new RegExp("[><&]","g").test(e)){return e.replace(new RegExp("[><&]","g"),p)}return e}t.htmlEncode=g;function h(){return $("<div/>").appendTo(document.body)}t.newBodyDiv=h;function v(t,e,n){$("<option/>").val(e).text(n).appendTo(t)}t.addOption=v;function m(t){t.html("")}t.clearOptions=m;function y(t){v(t,"",re("Controls.SelectEditor.EmptyItemText"))}t.addEmptyOption=y;function b(t){return(t==null?"":t).replace(new RegExp("^\\s+|\\s+$","g"),"")}t.trim=b;function w(t){return t==null||t.length===0}t.isEmptyOrNull=w;function S(t){if(t==null||t.length===0){return null}t=b(t);if(t.length===0){return null}else{return t}}t.trimToNull=S;function x(t){return S(t)==null}t.isTrimmedEmpty=x;function C(t){if(t==null||t.length===0){return""}return b(t)}t.trimToEmpty=C;function T(t,e){var n=t.attr("id");if(w(n)){return $("#"+e)}var r=$(n+e);if(r.length>0){return r}r=$(n+"_"+e);if(r.length>0){return r}while(true){var i=n.lastIndexOf("_");if(i<=0){return $("#"+e)}n=n.substr(0,i);r=$("#"+n+"_"+e);if(r.length>0){return r}}}t.findElementWithRelativeId=T;function A(t){return $("<i/>").append(t.eq(0).clone()).html()}t.outerHtml=A;function D(t){var e=0;t.parent().children().not(t).each(function(t,n){var r=$(n);if(r.is(":visible")){e+=r.outerHeight(true)}});e=t.parent().height()-e;if(t.css("box-sizing")!=="border-box"){e=e-(t.outerHeight(true)-t.height())}return e}t.layoutFillHeightValue=D;function O(t){var e=D(t);var n=e+"px";if(t.css("height")!=n){t.css("height",n)}}t.layoutFillHeight=O;function N(t){$("body").addClass("full-height-page");t.addClass("responsive-height");var e=function(){var e=t.parent().hasClass("page-content")||t.parent().is("section.content");if(e){t.css("height","1px").css("overflow","hidden")}O(t);if(e){t.css("overflow","")}t.triggerHandler("layout")};if($("body").hasClass("has-layout-event")){$("body").bind("layout",e)}else if(window.Metronic){window.Metronic.addResizeHandler(e)}else{$(window).resize(e)}e()}t.initFullHeightGridPage=N;function I(t){$("body").addClass("full-height-page");var e=function(){var e;try{e=parseInt($(".page-content").css("min-height")||"0")-parseInt($(".page-content").css("padding-top")||"0")-parseInt($(".page-content").css("padding-bottom")||"0")}catch(n){e=100}t(e)};if(window.Metronic){window.Metronic.addResizeHandler(e)}else{$(window).resize(e)}e()}t.addFullHeightResizeHandler=I;function _(t){Serenity.LazyLoadHelper.executeEverytimeWhenShown(t,function(){t.triggerHandler("layout")},true)}t.triggerLayoutOnShow=_;function E(t){t.css("height","100%");_(t)}t.autoFullHeight=E;function k(){var t=navigator.userAgent.indexOf("Mobi")>=0||window.matchMedia("(max-width: 767px)").matches;var e=$(document.body);if(e.hasClass("mobile-device")){if(!t){e.removeClass("mobile-device")}}else if(t){e.addClass("mobile-device")}}t.setMobileDeviceMode=k;t.defaultNotifyOptions={timeOut:3e3,showDuration:250,hideDuration:500,extendedTimeOut:500,positionClass:"toast-top-full-width"};function F(t){if(typeof toastr==="undefined"){return}var e=$(window.document.body).children(".ui-dialog:visible").last();var n=toastr.getContainer(null,t);if(n.length===0){return}if(e.length>0){var r=e.position();n.addClass("positioned-toast toast-top-full-width");n.css({position:"absolute",top:r.top+28+"px",left:r.left+6+"px",width:e.width()-12+"px"})}else{n.addClass("toast-top-full-width");if(n.hasClass("positioned-toast")){n.removeClass("positioned-toast");n.css({position:"",top:"",left:"",width:""})}}}t.positionToastContainer=F;function M(e){e=$.extend({},t.defaultNotifyOptions,e);F(true);return e}function H(t,e,n){toastr.warning(t,e,M(n))}t.notifyWarning=H;function L(t,e,n){toastr.success(t,e,M(n))}t.notifySuccess=L;function R(t,e,n){toastr.info(t,e,M(n))}t.notifyInfo=R;function P(t,e,n){toastr.error(t,e,M(n))}t.notifyError=P;function z(t){return ke.ensure("RemoteData."+t)}t.getRemoteData=z;function U(t){return ke.ensureAsync("RemoteData."+t)}t.getRemoteDataAsync=U;function B(t){return ke.ensure("Lookup."+t)}t.getLookup=B;function j(t){return ke.ensureAsync("Lookup."+t)}t.getLookupAsync=j;function W(t){ke.reload("Lookup."+t)}t.reloadLookup=W;function q(t){return ke.reloadAsync("Lookup."+t)}t.reloadLookupAsync=q;function K(t){return ke.ensure("Columns."+t)}t.getColumns=K;function V(t){return ke.ensureAsync("Columns."+t)}t.getColumnsAsync=V;function Q(t){return ke.ensure("Form."+t)}t.getForm=Q;function Y(t){return ke.ensureAsync("Form."+t)}t.getFormAsync=Y;function J(t){return ke.ensure("Template."+t)}t.getTemplate=J;function G(t){return ke.ensureAsync("Template."+t)}t.getTemplateAsync=G;function Z(t){return ke.canLoad(t)}t.canLoadScriptData=Z;function X(t){var e=function(e){if(Ne.notLoggedInHandler!=null&&e&&e.Error&&Ne.notLoggedInHandler(t,e)){return}if(t.onError!=null){t.onError(e);return}Oe.showServiceError(e.Error)};var n=t.service;if(n&&n.length&&n.charAt(0)!="~"&&n.charAt(0)!="/"&&n.indexOf("://")<0)n=oe("~/services/")+n;t=$.extend({dataType:"json",contentType:"application/json",type:"POST",cache:false,blockUI:true,url:n,data:$.toJSON(t.request),success:function(e,n,r){try{if(!e.Error&&t.onSuccess){t.onSuccess(e)}}finally{if(t.blockUI){c()}t.onCleanup&&t.onCleanup()}},error:function(n,r,i){try{if(n.status===403){var a=null;try{a=n.getResponseHeader("Location")}catch(u){a=null}if(a){window.top.location.href=a;return}}if((n.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var s=$.parseJSON(n.responseText);if(s&&s.Error){e(s);return}}var l=n.responseText;o({html:l})}finally{if(t.blockUI){c()}t.onCleanup&&t.onCleanup()}}},t);if(t.blockUI){f(null)}return $.ajax(t)}t.serviceCall=X;function te(t,e,n,r){return X($.extend({service:t,request:e,onSuccess:n},r))}t.serviceRequest=te;function ee(t,e,n){if(t.EqualityFilter==null){t.EqualityFilter={}}t.EqualityFilter[e]=n}t.setEquality=ee;function ne(t){return ss.replaceAllString(ss.replaceAllString(C(t),"\r\n"," "),"\n"," ").trim()}t.toSingleLine=ne;function re(t){var e=Ee.$table[t];if(e==null){e=t||""}return e}t.text=re;function ie(t){return Ee.$table[t]}t.tryGetText=ie;function oe(t){if(t&&t.substr(0,2)==="~/"){return Ne.applicationPath+t.substr(2)}return t}t.resolveUrl=oe;function ae(t,e){var n=t.toString();while(n.length<e)n="0"+e;return n}t.zeroPad=ae;function ue(t){if(t===0)return"0";else if(!t)return"";var e=Math.floor(t/24/60);var n="";if(e>0){n+=e.toString()}var r=ae(Math.floor(t%(24*60)/60),2)+":"+ae(t%60,2);if(r!="00:00"){if(e>0)n+=".";n+=r}return n}t.formatDayHourAndMin=ue;function se(t){if(t==null)return"";var e=function(t){return(t<10?"0":"")+t};var n=t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes());var r=Number(t.getUTCSeconds()+"."+(t.getUTCMilliseconds()<100?"0":"")+e(t.getUTCMilliseconds()));n+=":"+e(r)+"Z";return n}t.formatISODateTimeUTC=se;function le(t,e,n,r){var i="-";if(isNaN(t)){return null}n=n||Ie.decimalSeparator;r=r||Ie.get_groupSeperator();var o="";if(e.indexOf(".")>-1){var a=n;var u=e.substring(e.lastIndexOf(".")+1);t=fe(t,u.length);var s=t%1;var l=new String(s.toFixed(u.length));l=l.substring(l.lastIndexOf(".")+1);for(var f=0;f<u.length;f++){if(u.charAt(f)=="#"&&l.charAt(f)!="0"){a+=l.charAt(f);continue}else if(u.charAt(f)=="#"&&l.charAt(f)=="0"){var c=l.substring(f);if(c.match("[1-9]")){a+=l.charAt(f);continue}else break}else if(u.charAt(f)=="0")a+=l.charAt(f);else a+=u.charAt(f)}o+=a}else t=Math.round(t);var d=Math.floor(t);if(t<0)d=Math.ceil(t);var p="";if(e.indexOf(".")==-1)p=e;else p=e.substring(0,e.indexOf("."));var g="";if(!(d==0&&p.substr(p.length-1)=="#")){var h=new String(Math.abs(d));var v=9999;if(p.lastIndexOf(",")!=-1)v=p.length-p.lastIndexOf(",")-1;var m=0;for(var f=h.length-1;f>-1;f--){g=h.charAt(f)+g;m++;if(m==v&&f!=0){g=r+g;m=0}}if(p.length>g.length){var y=p.indexOf("0");if(y!=-1){var b=p.length-y;var w=p.length-g.length-1;while(g.length<b){var S=p.charAt(w);if(S==",")S=r;g=S+g;w--}}}}if(!g&&p.indexOf("0",p.length-1)!==-1)g="0";o=g+o;if(t<0)o=i+o;if(o.lastIndexOf(n)==o.length-1){o=o.substring(0,o.length-1)}return o}t.formatNumber=le;function fe(t,e){var n=Math.pow(10,e||0);var r=(Math.round(t*n)/n).toString();if(e>0){var i=r.indexOf(".");if(i==-1){r+=".";i=0}else{i=r.length-(i+1)}while(i<e){r+="0";i++}}return parseFloat(r)}var ce=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function de(t){t=b(t.toString());var e=Ie.get_groupSeperator();if(t&&t.length&&t.indexOf(e)>0){t=t.replace(new RegExp("(\\b\\d{1,3})\\"+e+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!/^[-\+]?\d+$/.test(t))return NaN;return parseInt(t,10)}t.parseInteger=de;function pe(t,e){if(!t||!t.length)return null;var n;var r;var i,o,a;r=he(t);if(!r)return false;if(r.length==3){e=e||Ie.dateOrder;switch(e){case"dmy":i=parseInt(r[0],10);o=parseInt(r[1],10)-1;a=parseInt(r[2],10);break;case"ymd":i=parseInt(r[2],10);o=parseInt(r[1],10)-1;a=parseInt(r[0],10);break;case"mdy":default:i=parseInt(r[1],10);o=parseInt(r[0],10)-1;a=parseInt(r[2],10);break}if(isNaN(i)||isNaN(o)||isNaN(a)||i<1||i>31||o<0||o>11||a>9999||a<0)return false;if(a<100){var u=(new Date).getFullYear();var s=u%100+10;a+=u-u%100+(a<=s?0:-100)}try{n=new Date(a,o,i);if(isNaN(n.getFullYear()))return false}catch(l){return false}}else if(r.length==1){try{n=new Date(r[0]);if(isNaN(n.getFullYear()))return false}catch(l){return false}}return n}t.parseDate=pe;function ge(t){if(t==null)return null;t=b(t.toString());if(t.length==0)return null;var e=Ie.get_groupSeperator();if(t&&t.length&&t.indexOf(e)>0){t=t.replace(new RegExp("(\\b\\d{1,3})\\"+e+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!new RegExp("^\\s*([-\\+])?(\\d*)\\"+Ie.decimalSeparator+"?(\\d*)\\s*$").test(t))return NaN;return parseFloat(t.toString().replace(Ie.decimalSeparator,"."))}t.parseDecimal=ge;function he(t){t=b(t);if(!t.length)return;if(t.indexOf("/")>=0)return t.split("/");else if(t.indexOf(".")>=0)return t.split(".");else if(t.indexOf("-")>=0)return t.split("-");else if(t.indexOf("\\")>=0)return t.split("\\");else return[t]}t.splitDateString=he;function ve(t){if(!t||!t.length)return null;var e=Date.parse(t);if(!isNaN(e)&&typeof e=="Date")return e;t=t+"";if(typeof t!="string"||t.length===0){return null}var n=t.match(ce);if(typeof n=="undefined"||n===null){return null}var r,i,o,a,u,s,l;r=parseInt(n[1],10);if(typeof n[2]=="undefined"||n[2]===""){return new Date(r)}i=parseInt(n[2],10)-1;o=parseInt(n[3],10);if(typeof n[4]=="undefined"||n[4]===""){return new Date(r,i,o)}a=parseInt(n[4],10);u=parseInt(n[5],10);s=typeof n[6]!="undefined"&&n[6]!==""?parseInt(n[6],10):0;if(typeof n[7]!="undefined"&&n[7]!==""){l=Math.round(1e3*parseFloat("0."+n[7]))}else{l=0}if((typeof n[8]=="undefined"||n[8]==="")&&(typeof n[9]=="undefined"||n[9]==="")){return new Date(r,i,o,a,u,s,l)}var f;if(typeof n[9]!="undefined"&&n[9]!==""){f=parseInt(n[10],10)*36e5;if(typeof n[11]!="undefined"&&n[11]!==""){f+=parseInt(n[11],10)*6e4}if(n[9]=="-"){f=-f}}else{f=0}return new Date(Date.UTC(r,i,o,a,u,s,l)-f)}t.parseISODateTime=ve;function me(t){var e=b(t);if(e.length<4||e.length>5)return NaN;var n,r;if(e.charAt(1)==":"){n=de(e.substr(0,1));r=de(e.substr(2,2))}else{if(e.charAt(2)!=":")return NaN;n=de(e.substr(0,2));r=de(e.substr(3,2))}if(isNaN(n)||isNaN(r)||n<0||n>23||r<0||r>59)return NaN;return n*60+r}t.parseHourAndMin=me;function ye(t){var e;var n=b(t);if(!n)return NaN;var r=n.split(".");if(r.length==0||r.length>2)return NaN;if(r.length==1){e=de(r[0]);if(!isNaN(e))return e*24*60;return me(r[0])}else{e=de(r[0]);var i=me(r[1]);if(isNaN(e)||isNaN(i))return NaN;return e*24*60+i}}t.parseDayHourAndMin=ye;function be(t){var e;if(t===undefined)e=location.search.substring(1,location.search.length);else e=t||"";var n={};var r=e.split("&");for(var i=0;i<r.length;i++){var o=r[i].split("=");var a=decodeURIComponent(o[0]);n[a]=o.length>=2?decodeURIComponent(o[1]):a}return n}t.parseQueryString=be;var we;function Se(t,e){var n="AaBbCcÇçFfGgĞğHhIıİiJjKkLlMmNnOoÖöPpRrSsŞşTtUuÜüVvYyZz";t=t||"";e=e||"";if(t==e)return 0;if(!we){we={};for(var r=0;r<n.length;r++){we[n.charAt(r)]=r+1}}for(var i=0,o=Math.min(t.length,e.length);i<o;i++){var a=t.charAt(i),u=e.charAt(i);if(a===u)continue;var s=we[a],l=we[u];if(s!=null&&l!=null)return s<l?-1:1;var f=a.localeCompare(u);if(f==0)continue;return f}return t.localeCompare(e)}t.turkishLocaleCompare=Se;function xe(t){if(!t)return t;return t.replace(/i/g,"İ").replace(/ı/g,"I").toUpperCase()}t.turkishLocaleToUpper=xe;function $e(t){var e=$("<form/>").attr("method","POST").attr("action",t.url?oe(t.url):oe("~/services/"+t.service)).appendTo(document.body);if(t.target)e.attr("target",t.target);var n=$("<div/>").appendTo(e);$("<input/>").attr("type","hidden").attr("name","request").val($["toJSON"](t.request)).appendTo(n);$("<input/>").attr("type","submit").appendTo(n);e.submit();window.setTimeout(function(){e.remove()},0)}t.postToService=$e;function Ce(t){var e=$("<form/>").attr("method","POST").attr("action",oe(t.url)).appendTo(document.body);if(t.target)e.attr("target",t.target);var n=$("<div/>").appendTo(e);if(t.params!=null){for(var r in t.params){$("<input/>").attr("type","hidden").attr("name",r).val(t.params[r]).appendTo(n)}}$("<input/>").attr("type","submit").appendTo(n);e.submit();window.setTimeout(function(){e.remove()},0)}t.postToUrl=Ce;if($.fn.button&&$.fn.button.noConflict){var Te=$.fn.button.noConflict();$.fn.btn=Te}function Ae(t,e){var n,r,i,o,a,u,s=arguments[0]||{},l=1,f=arguments.length;if(typeof s!=="object"&&!$.isFunction(s)){s={}}if(l===f){s={};l=0}for(;l<f;l++){if((n=arguments[l])!==null){if($.isArray(n)){s=$.extend(true,[],n)}else{for(r in n){i=s[r];o=n[r];if(s===o){continue}if(o&&($.isPlainObject(o)||(a=$.isArray(o)))){if(a){a=false;u=i&&$.isArray(i)?i:[]}else{u=i&&$.isPlainObject(i)?i:{}}s[r]=Ae(u,o)}else if(o!==undefined){s[r]=o}}}}}return s}t.deepClone=Ae;function De(t,e,n){function r(t,e,i){if(!t)return;if($.isArray(t)||t instanceof Date)return;var o=typeof t;if(o=="string"||o=="number")return;if($.isFunction(t))n(t,e);if(i>3)return;for(var a=0,u=Object.getOwnPropertyNames(t);a<u.length;a++){var s=u[a];if(s.charAt(0)<"A"||s.charAt(0)>"Z")continue;if(s.indexOf("$")>=0)continue;if(s=="prototype")continue;r(t[s],e+"."+s,i+1)}}for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a==null||!a.length){continue}if(a.indexOf(".")>=0){var u=t;var s=a.split(".");for(var l=0,f=s;l<f.length;l++){var c=f[l];if(!c.length)continue;u=u[c];if(!u)continue}r(u,a,0)}r(t[a],a,0)}}var Oe;(function(e){function n(e){var n;if(e==null){n="??ERROR??"}else{n=e.Message;if(n==null){n=e.Code}}t.alert(n)}e.showServiceError=n})(Oe=t.ErrorHandling||(t.ErrorHandling={}));var Ne;(function(t){t.applicationPath="/";t.emailAllowOnlyAscii=true;t.rootNamespaces=["Serenity"];t.notLoggedInHandler=null;var e=$("link#ApplicationPath");if(e.length>0){t.applicationPath=e.attr("href")}})(Ne=t.Config||(t.Config={}));var Ie;(function(e){e.decimalSeparator=".";e.dateSeparator="/";e.dateOrder="dmy";e.dateFormat="dd/MM/yyyy";e.dateTimeFormat="dd/MM/yyyy HH:mm:ss";function n(){return e.decimalSeparator===","?".":","}e.get_groupSeperator=n;var r=t.trimToNull($("script#ScriptCulture").html());if(r!=null){var i=$.parseJSON(r);if(i.DecimalSeparator!=null)e.decimalSeparator=i.DecimalSeparator;if(i.DateSeparator!=null)e.dateSeparator=i.DateSeparator;if(i.DateOrder!=null)e.dateOrder=i.DateOrder;if(i.DateFormat!=null)e.dateFormat=i.DateFormat;if(i.DateTimeFormat!=null)e.dateTimeFormat=i.DateTimeFormat}})(Ie=t.Culture||(t.Culture={}));var _e=function(){function e(t,e){this.options=t;this.items=[];this.itemById={};if(e!=null)this.update(e)}e.prototype.update=function(e){this.items=[];this.itemById={};if(e){for(var n=0,r=e;n<r.length;n++){var i=r[n];this.items.push(i)}}var o=this.options.idField;if(!t.isEmptyOrNull(o)){for(var a=0,u=this.items;a<u.length;a++){var s=u[a];var l=s[o];if(l!=null){this.itemById[l]=s}}}};e.prototype.get_idField=function(){return this.options.idField};e.prototype.get_parentIdField=function(){return this.options.parentIdField};e.prototype.get_textField=function(){return this.options.textField};e.prototype.get_textFormatter=function(){return this.options.textFormatter};e.prototype.get_itemById=function(){return this.itemById};e.prototype.get_items=function(){return this.items};return e}();t.Lookup=_e;var Ee=function(){function t(t){this.key=t}t.add=function(e,n){if(!e){return}n=n||"";var r=ss.getEnumerator(Object.keys(e));try{while(r.moveNext()){var i=r.current();var o=n+i;var a=e[i];if(typeof a==="object"){t.add(a,o+".")}else{t.$table[o]=a}}}finally{r.dispose()}};t.prototype.get=function(){var e=t.$table[this.key];if(e==null){e=this.key||""}return e};t.prototype.toString=function(){var e=t.$table[this.key];if(e==null){e=this.key||""}return e};t.$table={};t.empty=new t("");t.initializeTextClass=function(e,n){var r=ss.arrayClone(Object.keys(e));for(var i=0;i<r.length;i++){var o=r[i];var a=e[o];if(a instanceof t){var u=a;var s=n+o;t.$table[s]=u.$key;e[o]=new t(s)}}};t.getDefault=function(e,n){var r=t.$table[e];if(r==null){r=n;if(r==null){r=e||""}}return r};return t}();t.LT=Ee;var ke;(function(e){var n={};var r={};function i(t,e,n){$(document.body).bind("scriptdatachange."+e,function(e,r){if(r==t){n()}})}e.bindToChange=i;function o(t){$(document.body).triggerHandler("scriptdatachange",[t])}e.triggerChange=o;function a(t){$(document.body).unbind("scriptdatachange."+t)}e.unbindFromChange=a;function u(t){$.ajax({async:false,cache:true,type:"GET",url:t,data:null,dataType:"script"})}function s(e){return RSVP.resolve().then(function(){t.blockUI(null);return RSVP.resolve($.ajax({async:true,cache:true,type:"GET",url:e,data:null,dataType:"script"}).always(function(){t.blockUndo()}))},null)}function l(e){if(n[e]==null){throw new ss.Exception(ss.formatString("Script data {0} is not found in registered script list!",e))}e=e+".js?"+n[e];u(t.resolveUrl("~/DynJS.axd/")+e)}function f(e){return RSVP.resolve().then(function(){if(n[e]==null){throw new ss.Exception(ss.formatString("Script data {0} is not found in registered script list!",e))}e=e+".js?"+n[e];return s(t.resolveUrl("~/DynJS.axd/")+e)},null)}function c(t){var e=r[t];if(e==null){l(t)}e=r[t];if(e==null)throw new ss.NotSupportedException(ss.formatString("Can't load script data: {0}!",t));return e}e.ensure=c;function d(t){return RSVP.resolve().then(function(){var e=r[t];if(e!=null){return RSVP.resolve(e)}return f(t).then(function(){e=r[t];if(e==null){throw new ss.NotSupportedException(ss.formatString("Can't load script data: {0}!",t))}return e},null)},null)}e.ensureAsync=d;function p(t){if(n[t]==null){throw new ss.Exception(ss.formatString("Script data {0} is not found in registered script list!",t))}n[t]=(new Date).getTime().toString();l(t);var e=r[t];return e}e.reload=p;function g(t){return RSVP.resolve().then(function(){if(n[t]==null){throw new ss.Exception(ss.formatString("Script data {0} is not found in registered script list!",t))}n[t]=(new Date).getTime().toString();return f(t).then(function(){return r[t]},null)},null)}e.reloadAsync=g;function h(t){return r[t]!=null||n[t]!=null}e.canLoad=h;function v(t){n={};for(var e in t){n[e]=t[e].toString()}}e.setRegisteredScripts=v;function m(t,e){r[t]=e;o(t)}e.set=m})(ke=t.ScriptData||(t.ScriptData={}));(function(e){if(typeof RSVP!==undefined){RSVP.on&&RSVP.on(function(t){u(t);u(t.get_stack&&t.get_stack()||t.stack)})}ss.initAssembly({},"App",{});e.Q$Externals=t;e.Q$Config=t.Config;e.Q$Culture=t.Culture;e.Q$Lookup=t.Lookup;e.Q$ScriptData=t.ScriptData;e.Q$LT=t.LT;function n(){De(e,t.Config.rootNamespaces,function(t,e){if(t.__typeName)return;if(!t.__interfaces&&t.prototype.format&&e.substr(-9)=="Formatter"){t.__class=true;t.__interfaces=[Serenity.ISlickFormatter]}if(!t.class){var n=ss.getBaseType(t);if(n.__class)t.__class=true}if(t.__class){t.__typeName=e;if(!t.__assembly){t.__assembly=ss.__assemblies["App"]}t.__assembly.__types[e]=t}})}$(function(){n();k();$(e).bind("resize",function(){k()})})})(window||{})})(Q||(Q={}));var Serenity;(function(t){var e=function(){function t(t){this.value=t}return t}();t.ColumnsKeyAttribute=e;var n=function(){function t(t){this.value=t}return t}();t.DialogTypeAttribute=n;var r=function(){function t(){}return t}();t.EditorAttribute=r;var i=function(){function t(t){this.value=t}return t}();t.ElementAttribute=i;var o=function(){function t(t){this.value=t}return t}();t.EntityTypeAttribute=o;var a=function(){function t(t){this.value=t}return t}();t.EnumKeyAttribute=a;var u=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.FlexifyAttribute=u;var s=function(){function t(t){this.value=t}return t}();t.FormKeyAttribute=s;var l=function(){function t(t){this.origin=t}return t}();t.GeneratedCodeAttribute=l;var f=function(){function t(t){this.value=t}return t}();t.IdPropertyAttribute=f;var c=function(){function t(t){this.value=t}return t}();t.IsActivePropertyAttribute=c;var d=function(){function t(t){this.value=t}return t}();t.ItemNameAttribute=d;var p=function(){function t(t){this.value=t}return t}();t.LocalTextPrefixAttribute=p;var g=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.MaximizableAttribute=g;var h=function(){function t(t){this.value=t}return t}();t.NamePropertyAttribute=h;var v=function(){function t(){}return t}();t.OptionAttribute=v;var m=function(){function t(t){this.value=t}return t}();t.OptionsTypeAttribute=m;var y=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.PanelAttribute=y;var b=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.ResizableAttribute=b;var w=function(){function t(t){if(t===void 0){t=true}this.value=t}return t}();t.ResponsiveAttribute=w;var S=function(){function t(t){this.value=t}return t}();t.ServiceAttribute=S;var x;(function(t){var e=t;function n(t){return t==null||t.length===0||t.length===1&&typeof t[0]=="string"&&t[0].length===0}t.isEmpty=n;function r(t,n,r){if(e.isEmpty(t))return r;if(e.isEmpty(r))return t;return[t,n,r]}t.join=r;function i(t){return e.isEmpty(t)?t:["()",t]}t.paren=i})(x=t.Criteria||(t.Criteria={}));var $;(function(x){function $(t,e){var n=t.__metadata;t.__metadata=t.__metadata||{};t.__metadata.attr=t.__metadata.attr||[];t.__metadata.attr.push(e)}x.addAttribute=$;function C(t){return function(n){$(n,new e(t))}}x.columnsKey=C;function T(t){return function(e){$(e,new n(t))}}x.dialogType=T;function A(t){return function(e){var n=new r;if(t!==undefined)n.key=t;$(e,n)}}x.editor=A;function D(t){return function(e){$(e,new i(t))}}x.element=D;function O(t){return function(e){$(e,new o(t))}}x.entityType=O;function N(t){return function(e){$(e,new a(t))}}x.enumKey=N;function I(t){if(t===void 0){t=true}return function(e){$(e,new u(t))}}x.flexify=I;function _(t){return function(e){$(e,new s(t))}}x.formKey=_;function E(t){return function(e){$(e,new l(t))}}x.generatedCode=E;function k(t){return function(e){$(e,new f(t))}}x.idProperty=k;function F(t,e){return function(n){n.__class=true;n.__assembly=e||ss.__assemblies["App"];if(t)n.__interfaces=t}}x.registerClass=F;function M(e,n){if(e===void 0){e=[t.ISlickFormatter]}return F(e,n)}x.registerFormatter=M;function H(t){return function(e){$(e,new d(t))}}x.itemName=H;function L(t){return function(e){$(e,new c(t))}}x.isActiveProperty=L;function R(t){return function(e){$(e,new p(t))}}x.localTextPrefix=R;function P(t){if(t===void 0){t=true}return function(e){$(e,new g(t))}}x.maximizable=P;function z(t){return function(e){$(e,new h(t))}}x.nameProperty=z;function U(t){return function(t){$(t,new v)}}x.option=U;function B(t){return function(e){$(e,new m(t))}}x.optionsType=B;function j(t){if(t===void 0){t=true}return function(e){$(e,new y(t))}}x.panel=j;function W(t){if(t===void 0){t=true}return function(e){$(e,new b(t))}}x.resizable=W;function q(t){if(t===void 0){t=true}return function(e){$(e,new w(t))}}x.responsive=q;function K(t){return function(e){$(e,new S(t))}}x.service=K})($=t.Decorators||(t.Decorators={}));var C;(function(t){function e(t,e,n){if(!t)return;var i=r(t);if(!i)return;var o=i[e];if(o==null){return}if(o===t.tabs("option","active")){t.tabs("option","active",0)}t.tabs(n?"disable":"enable",o)}t.setDisabled=e;function n(t){var e=t.children("ul").children("li").eq(t.tabs("option","active")).children("a").attr("href").toString();var n="_Tab";var r=e.lastIndexOf(n);if(r>=0){e=e.substr(r+n.length)}return e}t.activeTabKey=n;function r(t){var e=t.data("indexByKey");if(!e){e={};t.children("ul").children("li").children("a").each(function(t,n){var r=n.getAttribute("href").toString();var i="_Tab";var o=r.lastIndexOf(i);if(o>=0){r=r.substr(o+i.length)}e[r]=t});t.data("indexByKey",e)}return e}t.indexByKey=r})(C=t.TabsExtensions||(t.TabsExtensions={}));var T;(function(t){var e=0;function n(t,n){e++;var r="ExecuteOnceWhenShown"+e;var i=false;if(t.is(":visible")){n()}else{var o=t.closest(".ui-tabs");if(o.length>0){o.bind("tabsshow."+r,function(e){if(t.is(":visible")){o.unbind("tabsshow."+r);if(!i){i=true;t.unbind("shown."+r);n()}}})}var a;if(t.hasClass("ui-dialog")){a=t.children(".ui-dialog-content")}else{a=t.closest(".ui-dialog-content")}if(a.length>0){a.bind("dialogopen."+r,function(){a.unbind("dialogopen."+r);if(t.is(":visible")&&!i){i=true;t.unbind("shown."+r);n()}})}t.bind("shown."+r,function(){if(t.is(":visible")){t.unbind("shown."+r);if(!i){i=true;n()}}})}}t.executeOnceWhenShown=n;function r(t,n,r){e++;var i="ExecuteEverytimeWhenShown"+e;var o=t.is(":visible");if(o&&r){n()}var a=function(e){if(t.is(":visible")){if(!o){o=true;n()}}else{o=false}};var u=t.closest(".ui-tabs");if(u.length>0){u.bind("tabsactivate."+i,a)}var s=t.closest(".ui-dialog-content");if(s.length>0){s.bind("dialogopen."+i,a)}t.bind("shown."+i,a)}t.executeEverytimeWhenShown=r})(T=t.LazyLoadHelper||(t.LazyLoadHelper={}))})(Serenity||(Serenity={}));