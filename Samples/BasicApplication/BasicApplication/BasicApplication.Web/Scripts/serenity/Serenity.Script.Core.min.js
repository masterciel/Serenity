(function(){"use strict";var e={};global.Serenity=global.Serenity||{};ss.initAssembly(e,"Serenity.Script.Core");var t=function(){};t.__typeName="Q";t.$blockUIWithCheck=function(e){if(t.$blockUICount>0){t.$blockUICount++;return}$.blockUI(e);t.$blockUICount++};t.blockUI=function(e){e=$.extend({baseZ:2e3,message:"",overlayCSS:{opacity:"0.0",zIndex:2e3,cursor:"wait"},fadeOut:0},e);if(e.useTimeout){window.setTimeout(function(){t.$blockUIWithCheck(e)},0)}else{t.$blockUIWithCheck(e)}};t.blockUndo=function(){if(t.$blockUICount>1){t.$blockUICount--;return}t.$blockUICount--;$.unblockUI({fadeOut:0})};t.formatDate=function(e,t){if(ss.staticEquals(e,null)){return""}if(ss.isNullOrUndefined(t)){t=i.dateFormat}var n=function(e){return ss.padLeftString(e.toString(),2,48)};return t.replace(new RegExp("dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|fff|zz?z?|\\/","g"),function(t){switch(t){case"/":{return i.dateSeparator}case"hh":{return n(e.getHours()<13?e.getHours():e.getHours()-12)}case"h":{return e.getHours()<13?e.getHours():e.getHours()-12}case"HH":{return n(e.getHours())}case"H":{return e.getHours()}case"mm":{return n(e.getMinutes())}case"m":{return e.getMinutes()}case"ss":{return n(e.getSeconds())}case"s":{return e.getSeconds()}case"yyyy":{return e.getFullYear()}case"yy":{return e.getFullYear().toString().substr(2,4)}case"dddd":{return ss.cast(e.GetDayName(),String)}case"ddd":{return ss.cast(e.GetDayName(true),String)}case"dd":{return n(e.getDate())}case"d":{return e.getDate().toString()}case"MM":{return n(e.getMonth()+1)}case"M":{return e.getMonth()+1}case"t":{return e.getHours()<12?"A":"P"}case"tt":{return e.getHours()<12?"AM":"PM"}case"fff":{return ss.padLeftString(e.getMilliseconds().toString(),3,48)}case"zzz":case"zz":case"z":{return""}default:{return t}}})};t.parseDate=function(e){return Q$Externals.parseDate(e)};t.parseISODateTime=function(e){return Q$Externals.parseISODateTime(e)};t.alert=function(e,t){Q$Externals.alertDialog(e,t)};t.warning=function(e,t){Q$Externals.alertDialog(e,$.extend({title:h.WarningTitle.get(),dialogClass:"s-MessageDialog s-WarningDialog"},t))};t.confirm=function(e,t,n){Q$Externals.confirmDialog(e,t,n)};t.information=function(e,t,n){Q$Externals.confirmDialog(e,t,$.extend({title:h.InformationTitle.get(),yesButton:h.OkButton.get(),noButton:null,dialogClass:"s-MessageDialog s-InformationDialog"},n))};t.htmlEncode=function(e){var n=ss.isNullOrUndefined(e)?"":e.toString();if(new RegExp("[><&]","g").test(n)){return n.replace(new RegExp("[><&]","g"),t.$htmlEncodeReplacer)}return n};t.newBodyDiv=function(){return $("<div/>").appendTo(document.body)};t.$htmlEncodeReplacer=function(e){switch(e){case"&":{return"&amp;"}case">":{return"&gt;"}case"<":{return"&lt;"}}return e};t.clearOptions=function(e){e.html("")};t.addEmptyOption=function(e){t.addOption(e,"","--seÃ§iniz--")};t.addOption=function(e,t,n){$("<option/>").val(t).text(n).appendTo(e)};t.findElementWithRelativeId=function(e,n){var i=e.attr("id");if(t.isEmptyOrNull(i)){return $("#"+n)}var s=$(i+n);if(s.length>0){return s}s=$(i+"_"+n);if(s.length>0){return s}while(true){var r=i.lastIndexOf(String.fromCharCode(95));if(r<=0){return $("#"+n)}i=i.substr(0,r);s=$("#"+i+"_"+n);if(s.length>0){return s}}};t.outerHtml=function(e){return $("<i/>").append(e.eq(0).clone()).html()};t.layoutFillHeightValue=function(e){var t=0;e.parent().children().not(e).each(function(e,n){var i=$(n);if(i.is(":visible")){t+=i.outerHeight(true)}});t=e.parent().height()-t;t=t-(e.outerHeight(true)-e.height());return t};t.layoutFillHeight=function(e){var n=t.layoutFillHeightValue(e);var i=n+"px";if(!ss.referenceEquals(e.css("height"),i)){e.css("height",i)}};t.initFullHeightGridPage=function(e){$("body").addClass("full-height-page");var n=function(){if(e.parent().hasClass("page-content")){e.css("height","1px").css("overflow","hidden")}t.layoutFillHeight(e);e.triggerHandler("layout")};if($("body").hasClass("has-layout-event")){$("body").bind("layout",n)}else if(!!ss.isValue(window.window.Metronic)){window.window.Metronic.addResizeHandler(n)}else{$(window).resize(n)}n(null)};t.addFullHeightResizeHandler=function(e){$("body").addClass("full-height-page");var t=function(){var t;try{t=parseInt(ss.coalesce($(".page-content").css("min-height"),"0"))-parseInt(ss.coalesce($(".page-content").css("padding-top"),"0"))-parseInt(ss.coalesce($(".page-content").css("padding-bottom"),"0"))}catch(n){t=100}e(t)};if(!!ss.isValue(window.window.Metronic)){window.window.Metronic.addResizeHandler(t)}else{$(window).resize(t)}t(null)};t.triggerLayoutOnShow=function(e){x.executeEverytimeWhenShown(e,function(){e.triggerHandler("layout")},true)};t.autoFullHeight=function(e){e.css("height","100%");t.triggerLayoutOnShow(e)};t.notifyWarning=function(e){toastr.warning(e,"",t.$getToastrOptions())};t.notifySuccess=function(e){toastr.success(e,"",t.$getToastrOptions())};t.notifyInfo=function(e){toastr.info(e,"",t.$getToastrOptions())};t.notifyError=function(e){toastr.error(e,"",t.$getToastrOptions())};t.$getToastrOptions=function(){var e=$(window.document.body).children(".ui-dialog").last();var t=$("#toast-container");var n={timeOut:3e3,showDuration:250,hideDuration:500,extendedTimeOut:500};if(e.length>0){if(!t.hasClass("dialog-toast")&&t.length>0){t.remove()}n.target=e;n.positionClass="toast-top-full-width dialog-toast"}else{t.removeClass("dialog-toast");if(t.hasClass("dialog-toast")&&t.length>0){t.remove()}n.positionClass="toast-top-full-width"}return n};t.formatNumber=function(e,t){if(!ss.isValue(e)){return""}return Q$Externals.formatNumber(e,t,i.decimalSeparator,i.get_groupSeperator())};t.parseDecimal=function(e){if(ss.isNullOrUndefined(e)||t.isTrimmedEmpty(e)){return null}return Q$Externals.parseDecimal(e)};t.getRemoteData=function(e){return l.ensure("RemoteData."+e)};t.getLookup=function(e){return l.ensure("Lookup."+e)};t.reloadLookup=function(e){l.reload("Lookup."+e)};t.getForm=function(e){return l.ensure("Form."+e)};t.getTemplate=function(e){return l.ensure("Template."+e)};t.canLoadScriptData=function(e){return l.canLoad(e)};t.serviceCall=function(e){var i=function(t){if(!ss.staticEquals(n.notLoggedInHandler,null)&&ss.isValue(t)&&ss.isValue(t.Error)&&t.Error.Code==="NotLoggedIn"&&n.notLoggedInHandler(e,t)){return}if(!ss.staticEquals(e.onError,null)){e.onError(t)}else{s.showServiceError(t.Error)}};e=$.extend({dataType:"json",contentType:"application/json",type:"POST",cache:false,blockUI:true,url:ss.isValue(e.service)&&!ss.startsWithString(e.service,String.fromCharCode(126))&&!ss.startsWithString(e.service,String.fromCharCode(47))?t.resolveUrl("~/services/"+e.service):t.resolveUrl(e.service),data:$.toJSON(e.request),success:function(n,i,s){var r=n;try{if(ss.isNullOrUndefined(r.Error)){if(!ss.staticEquals(e.onSuccess,null)){e.onSuccess(r)}}else{}}finally{if(e.blockUI){t.blockUndo()}if(!ss.staticEquals(e.onCleanup,null)){e.onCleanup()}}},error:function(n,s,r){try{if(n.status===403){var a=null;try{a=n.getResponseHeader("Location")}catch(l){a=null}if(ss.isValue(a)){window.top.location.href=a;return}}if(ss.coalesce(n.getResponseHeader("content-type"),"").toLowerCase().indexOf("application/json")>=0){var o=$.parseJSON(n.responseText);if(ss.isValue(o)&&ss.isValue(o.Error)){i(o);return}}var u=n.responseText;Q$Externals.iframeDialog({html:u})}finally{if(e.blockUI){t.blockUndo()}if(!ss.staticEquals(e.onCleanup,null)){e.onCleanup()}}}},e);if(e.blockUI){t.blockUI(null)}return $.ajax(e)};t.serviceRequest=function(e,n,i,s){t.serviceCall($.extend({service:e,request:n,onSuccess:i},s))};t.trim=function(e){return ss.coalesce(e,"").replace(new RegExp("^\\s+|\\s+$","g"),"")};t.isEmptyOrNull=function(e){return ss.isNullOrUndefined(e)||e.length===0};t.isTrimmedEmpty=function(e){return ss.isNullOrUndefined(t.trimToNull(e))};t.trimToNull=function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}else{e=e.trim();if(e.length===0){return null}else{return e}}};t.trimToEmpty=function(e){if(ss.isNullOrUndefined(e)||e.length===0){return""}else{return e.trim()}};t.toSingleLine=function(e){return ss.replaceAllString(ss.replaceAllString(t.trimToEmpty(e),"\r\n"," "),"\n"," ").trim()};t.text=function(e){var t=a.$table[e];if(ss.isNullOrUndefined(t)){t=ss.coalesce(e,"")}return t};t.tryGetText=function(e){return a.$table[e]};t.resolveUrl=function(e){if(ss.isValue(e)&&e.length>0&&e.substr(0,2)==="~/"){return n.applicationPath+e.substr(2)}else{return e}};t.autoOpenByQuery=function(e,t){var n=Q$Externals.parseQueryString();var i=n[e];if(ss.isValue(i)){t(i)}};t.autoOpenByQueryID=function(e,n){t.autoOpenByQuery(e,function(e){var t=S.convertToId(e);if(ss.isNullOrUndefined(t)||isNaN(t)){return}n(ss.unbox(t))})};global.Q=t;var n=function(){};n.__typeName="Q$Config";global.Q$Config=n;var i=function(){};i.__typeName="Q$Culture";i.get_groupSeperator=function(){return i.decimalSeparator===","?".":","};global.Q$Culture=i;var s=function(){};s.__typeName="Q$ErrorHandling";s.showServiceError=function(e){if(ss.isNullOrUndefined(e)){throw new ss.Exception("error is null!")}var n;if(ss.isNullOrUndefined(e)){n="??ERROR??"}else{var i=e.Message;if(ss.isNullOrUndefined(i)){i=e.Code}n=i}t.alert(n)};global.Q$ErrorHandling=s;var r=function(e,t){this.$items=null;this.$itemById=null;this.$options=null;this.$items=[];this.$itemById={};this.$options=e||{};if(ss.isValue(t)){this.update(t)}};r.__typeName="Q$Lookup";global.Q$Lookup=r;var a=function(e){this.$key=null;this.$key=e};a.__typeName="Q$LT";a.add=function(e,t){if(!ss.isValue(e)){return}t=ss.coalesce(t,"");var n=ss.getEnumerator(Object.keys(e));try{while(n.moveNext()){var i=n.current();var s=t+i;var r=e[i];if(typeof r==="object"){a.add(r,s+".")}else{a.$table[s]=r}}}finally{n.dispose()}};a.initializeTextClass=function(e,t){var n=e;var i=ss.arrayClone(Object.keys(e));for(var s=0;s<i.length;s++){var r=i[s];var l=n[r];if(ss.isInstanceOfType(l,a)){var o=l;var u=t+r;a.$table[u]=o.$key;n[r]=new a(u)}}};a.getDefault=function(e,t){var n=a.$table[e];if(ss.isNullOrUndefined(n)){var i=t;if(ss.isNullOrUndefined(i)){i=ss.coalesce(e,"")}n=i}return n};global.Q$LT=a;var l=function(){};l.__typeName="Q$ScriptData";l.bindToChange=function(e,t,n){$(document.body).bind("scriptdatachange."+t,function(t,i){if(ss.referenceEquals(i,e)){n()}})};l.triggerChange=function(e){$(document.body).triggerHandler("scriptdatachange",[e])};l.unbindFromChange=function(e){$(document.body).unbind("scriptdatachange."+e)};l.$loadScriptData=function(e){if(!ss.keyExists(l.$registered,e)){throw new ss.Exception(ss.formatString("Script data {0} is not found in registered script list!",e))}e=e+".js?"+l.$registered[e];l.$syncLoadScript(t.resolveUrl("~/DynJS.axd/")+e)};l.$syncLoadScript=function(e){$.ajax({async:false,cache:true,type:"GET",url:e,data:null,dataType:"script"})};l.ensure=function(e){var t=l.$loadedData[e];if(!ss.isValue(t)){l.$loadScriptData(e)}t=l.$loadedData[e];if(!ss.isValue(t)){throw new ss.NotSupportedException(ss.formatString("Can't load script data: {0}!",e))}return t};l.reload=function(e){if(!ss.keyExists(l.$registered,e)){throw new ss.NotSupportedException(ss.formatString("Script data {0} is not found in registered script list!"))}l.$registered[e]=(new Date).getTime().toString();l.$loadScriptData(e);var t=l.$loadedData[e];return t};l.canLoad=function(e){var t=l.$loadedData[e];if(ss.isValue(t)||ss.keyExists(l.$registered,e)){return true}return false};l.setRegisteredScripts=function(e){ss.clearKeys(l.$registered);var t=new ss.ObjectEnumerator(e);try{while(t.moveNext()){var n=t.current();l.$registered[n.key]=n.value.toString()}}finally{t.dispose()}};l.set=function(e,t){l.$loadedData[e]=t;l.triggerChange(e)};global.Q$ScriptData=l;var o=function(){};o.__typeName="Texts";global.Texts=o;var u=function(){};u.__typeName="Texts$Controls";global.Texts$Controls=u;var c=function(){};c.__typeName="Texts$Controls$EntityDialog";global.Texts$Controls$EntityDialog=c;var f=function(){};f.__typeName="Texts$Controls$EntityGrid";global.Texts$Controls$EntityGrid=f;var d=function(){};d.__typeName="Texts$Controls$Pager";global.Texts$Controls$Pager=d;var g=function(){};g.__typeName="Texts$Controls$PropertyGrid";global.Texts$Controls$PropertyGrid=g;var p=function(){};p.__typeName="Texts$Controls$QuickSearch";global.Texts$Controls$QuickSearch=p;var h=function(){};h.__typeName="Texts$Dialogs";global.Texts$Dialogs=h;var m=function(e){this.$2$ValueField=null;this.set_value(e)};m.__typeName="Serenity.DialogTypeAttribute";global.Serenity.DialogTypeAttribute=m;var y=function(){};y.__typeName="Serenity.EditorAttribute";global.Serenity.EditorAttribute=y;var v=function(e){this.$html=null;this.$html=e};v.__typeName="Serenity.ElementAttribute";global.Serenity.ElementAttribute=v;var b=function(e){this.$2$ValueField=null;this.set_value(e)};b.__typeName="Serenity.EntityTypeAttribute";global.Serenity.EntityTypeAttribute=b;var T=function(e){this.$2$ValueField=null;this.set_value(e)};T.__typeName="Serenity.FormKeyAttribute";global.Serenity.FormKeyAttribute=T;var S=function(){};S.__typeName="Serenity.IdExtensions";S.convertToId=function(e){return Q$Externals.toId(e)};S.isPositiveId=function(e){if(!ss.isValue(e)){return false}else if(typeof e==="string"){var t=e;if(ss.startsWithString(t,"-")){return false}return t.length>0}else if(typeof e==="number"){return e>0}else{return true}};S.isNegativeId=function(e){if(!ss.isValue(e)){return false}else if(typeof e==="string"){var t=e;if(ss.startsWithString(t,"-")){return true}return false}else if(typeof e==="number"){return e<0}else{return false}};global.Serenity.IdExtensions=S;var C=function(e){this.$2$ValueField=null;this.set_value(e)};C.__typeName="Serenity.IdPropertyAttribute";global.Serenity.IdPropertyAttribute=C;var _=function(e){this.$2$ValueField=null;this.set_value(e)};_.__typeName="Serenity.IsActivePropertyAttribute";global.Serenity.IsActivePropertyAttribute=_;var w=function(e){this.$2$ValueField=null;this.set_value(e)};w.__typeName="Serenity.ItemNameAttribute";global.Serenity.ItemNameAttribute=w;var x=function(){};x.__typeName="Serenity.LazyLoadHelper";x.executeOnceWhenShown=function(e,t){x.$autoIncrement++;var n="ExecuteOnceWhenShown"+x.$autoIncrement;var i=false;if(e.is(":visible")){t()}else{var s=e.closest(".ui-tabs");if(s.length>0){s.bind("tabsshow."+n,function(r){if(e.is(":visible")){s.unbind("tabsshow."+n);if(!i){i=true;e.unbind("shown."+n);t()}}})}var r;if(e.hasClass("ui-dialog")){r=e.children(".ui-dialog-content")}else{r=e.closest(".ui-dialog-content")}if(r.length>0){r.bind("dialogopen."+n,function(){r.unbind("dialogopen."+n);if(e.is(":visible")&&!i){i=true;e.unbind("shown."+n);t()}})}e.bind("shown."+n,function(){if(e.is(":visible")){e.unbind("shown."+n);if(!i){i=true;t()}}})}};x.executeEverytimeWhenShown=function(e,t,n){x.$autoIncrement++;var i="ExecuteEverytimeWhenShown"+x.$autoIncrement;var s=e.is(":visible");if(s&&n){t()}var r=function(n){if(e.is(":visible")){if(!s){s=true;t()}}else{s=false}};var a=e.closest(".ui-tabs");if(a.length>0){a.bind("tabsactivate."+i,r)}var l=e.closest(".ui-dialog-content");if(l.length>0){l.bind("dialogopen."+i,r)}e.bind("shown."+i,r)};global.Serenity.LazyLoadHelper=x;var E=function(e){this.$2$ValueField=null;this.set_value(e)};E.__typeName="Serenity.LocalTextPrefixAttribute";global.Serenity.LocalTextPrefixAttribute=E;var N=function(e){this.$2$ValueField=null;this.set_value(e)};N.__typeName="Serenity.NamePropertyAttribute";global.Serenity.NamePropertyAttribute=N;var I=function(e){this.$2$OptionsTypeField=null;this.set_optionsType(e)};I.__typeName="Serenity.OptionsTypeAttribute";global.Serenity.OptionsTypeAttribute=I;var O=function(){};O.__typeName="Serenity.ScriptContext";global.Serenity.ScriptContext=O;var L=function(e){this.$2$ValueField=null;this.set_value(e)};L.__typeName="Serenity.ServiceAttribute";global.Serenity.ServiceAttribute=L;var k=function(){};k.__typeName="Serenity.SlickFormatting";k.getEnumText=function(e){return function(t){var n=ss.Enum.toString(e,t);return k.getEnumText$1(ss.getTypeName(e),n)}};k.getEnumText$1=function(e,n){if(ss.isValue(n)){return t.htmlEncode(t.text("Enums."+e+"."+n))}else{return""}};k.enum$1=function(e){return function(n){if(ss.isValue(n.value)){return t.htmlEncode(t.text("Enums."+e+"."+n.value))}else{return""}}};k.treeToggle=function(e){return function(t,n,i){return function(s){var r=i(s);var a=t();var l=ss.coalesce(s.item._indent,0);var o='<span class="s-TreeIndent" style="width:'+15*l+'px"></span>';var u=n(ss.cast(s.item,e));var c=a.getIdxById(u);var f=a.getItemByIdx(c+1);if(!!ss.isValue(f)){var d=ss.coalesce(f._indent,0);if(d>l){if(!!!!s.item._collapsed){return o+'<span class="s-TreeToggle s-TreeExpand"></span>'+r}else{return o+'<span class="s-TreeToggle s-TreeCollapse"></span>'+r}}}return o+'<span class="s-TreeToggle"></span>'+r}}};k.$formatDate=function(e,n){if(!ss.isValue(e)){return""}var i;if(typeof e==="date"){i=e}else if(typeof e==="string"){i=Q$Externals.parseISODateTime(e);if(ss.staticEquals(i,null)){return t.htmlEncode(e)}}else{return e.toString()}return t.htmlEncode(t.formatDate(i,n))};k.date=function(e){var n=e;if(ss.isNullOrUndefined(n)){n=i.dateFormat}e=n;return function(n){return t.htmlEncode(k.$formatDate(n.value,e))}};k.dateTime=function(e){var n=e;if(ss.isNullOrUndefined(n)){n=i.dateTimeFormat}e=n;return function(n){return t.htmlEncode(k.$formatDate(n.value,e))}};k.checkBox=function(){return function(e){return'<span class="check-box no-float '+(!!e.value?" checked":"")+'"></span>'}};k.number=function(e){return function(n){var i=n.value;if(!ss.isValue(n.value)||isNaN(i)){return""}if(typeof i==="number"){return t.htmlEncode(t.formatNumber(i,e))}var s=t.parseDecimal(i.toString());if(ss.isNullOrUndefined(s)){return""}return t.htmlEncode(i.toString())}};k.getItemType$1=function(e){return k.getItemType(e.attr("href"))};k.getItemType=function(e){if(t.isEmptyOrNull(e)){return null}if(ss.startsWithString(e,"#")){e=e.substr(1)}var n=e.lastIndexOf(String.fromCharCode(47));if(n>=0){e=e.substr(0,n)}return e};k.getItemId$1=function(e){return k.getItemId(e.attr("href"))};k.getItemId=function(e){if(t.isEmptyOrNull(e)){return null}if(ss.startsWithString(e,"#")){e=e.substr(1)}var n=e.lastIndexOf(String.fromCharCode(47));if(n>=0){e=e.substr(n+1)}return e};k.itemLinkText=function(e,n,i,s){return"<a"+(ss.isValue(n)?' href="#'+e+"/"+n+'"':"")+' class="s-'+e+"Link"+(t.isEmptyOrNull(s)?"":" "+s)+'">'+t.htmlEncode(ss.coalesce(i,""))+"</a>"};k.itemLink=function(e,t,n,i){return function(s){return ss.cast(k.itemLinkText(e,s.item[t],ss.staticEquals(n,null)?s.value:n(s),ss.staticEquals(i,null)?"":i(s)),String)}};global.Serenity.SlickFormatting=k;var Q=function(){};Q.__typeName="Serenity.SlickHelper";Q.setDefaults=function(e,n){var i=ss.getEnumerator(e);try{while(i.moveNext()){var s=i.current();s.sortable=ss.isValue(s.sortable)?s.sortable:true;var r=s.id;if(ss.isNullOrUndefined(r)){r=s.field}s.id=r;if(ss.isValue(n)&&ss.isValue(s.id)&&(ss.isNullOrUndefined(s.name)||ss.startsWithString(s.name,"~"))){var a=ss.isValue(s.name)?s.name.substr(1):s.id;s.name=t.text(n+a)}if(ss.staticEquals(s.formatter,null)&&!ss.staticEquals(s.format,null)){s.formatter=Q.convertToFormatter(s.format)}else if(ss.staticEquals(s.formatter,null)){s.formatter=function(e,n,i,s,r){return t.htmlEncode(i)}}}}finally{i.dispose()}return e};Q.convertToFormatter=function(e){if(ss.staticEquals(e,null)){return null}else{return function(t,n,i,s,r){return e({row:t,cell:n,value:i,column:s,item:r})}}};global.Serenity.SlickHelper=Q;var D=function(){};D.__typeName="Serenity.SlickTreeHelper";D.filterCustom=function(e,t){var n=t(e);var i=0;while(ss.isValue(n)){if(!!n._collapsed){return false}n=t(n);if(i++>1e3){throw new ss.InvalidOperationException("Possible infinite loop, check parents has no circular reference!")}}return true};D.filterById=function(e,t,n){return D.filterCustom(e,function(e){var i=n(e);if(ss.isNullOrUndefined(i)){return null}return t.getItemById(i)})};D.setCollapsed=function(e,t){if(ss.isValue(e)){var n=ss.getEnumerator(e);try{while(n.moveNext()){var i=n.current();i._collapsed=t}}finally{n.dispose()}}};D.setCollapsedFlag=function(e,t){e._collapsed=t};D.setIndents=function(e,t,n,i){var s=0;var r={};for(var a=0;a<ss.count(e);a++){var l=ss.getItem(e,a);if(a>0){var o=n(l);if(ss.isValue(o)&&ss.referenceEquals(o,t(ss.getItem(e,a-1)))){s+=1}else if(ss.isNullOrUndefined(o)){s=0}else if(!ss.referenceEquals(o,n(ss.getItem(e,a-1)))){if(ss.keyExists(r,o)){s=r[o]+1}else{s=0}}}r[t(l)]=s;l._indent=s;if(ss.isValue(i)){l._collapsed=ss.unbox(i)}}};D.toggleClick=function(e){return function(t,n,i,s,r){var a=$(t.target);if(!a.hasClass("s-TreeToggle")){return}if(a.hasClass("s-TreeCollapse")||a.hasClass("s-TreeExpand")){var l=s.rows[n];if(!!ss.isValue(l)){if(!!!l._collapsed){l._collapsed=true}else{l._collapsed=false}s.updateItem(r(ss.cast(l,e)),l)}if(t.shiftKey){s.beginUpdate();try{D.setCollapsed(s.getItems(),!!l._collapsed);s.setItems(s.getItems(),true)}finally{s.endUpdate()}}}}};global.Serenity.SlickTreeHelper=D;var F=function(){};F.__typeName="Serenity.TabsExtensions";F.setDisabled=function(e,t,n){if(ss.isNullOrUndefined(e)){return}var i=F.indexByKey(e);if(ss.isNullOrUndefined(i)){return}var s=i[t];if(ss.isNullOrUndefined(s)){return}if(ss.unbox(s)===e.tabs("option","active")){e.tabs("option","active",0)}if(n){e.tabs("disable",ss.unbox(s))}else{e.tabs("enable",ss.unbox(s))}};F.activeTabKey=function(e){var t=e.children("ul").children("li").eq(e.tabs("option","active")).children("a").attr("href").toString();var n="_Tab";var i=t.lastIndexOf(n);if(i>=0){t=t.substr(i+n.length)}return t};F.indexByKey=function(e){var t=e.data("indexByKey");if(ss.isNullOrUndefined(t)){t={};e.children("ul").children("li").children("a").each(function(e,n){var i=n.getAttribute("href").toString();var s="_Tab";var r=i.lastIndexOf(s);if(r>=0){i=i.substr(r+s.length)}t[i]=e});e.data("indexByKey",t)}return t};global.Serenity.TabsExtensions=F;ss.initClass(t,e,{});ss.initClass(n,e,{});ss.initClass(i,e,{});ss.initClass(s,e,{});ss.initClass(r,e,{update:function(e){this.$items=[];this.$itemById={};if(ss.isValue(e)){ss.arrayAddRange(this.$items,e)}var n=this.$options.idField;if(!t.isEmptyOrNull(n)){for(var i=0;i<this.$items.length;i++){var s=this.$items[i];var r=s[n];if(ss.isValue(r)){this.$itemById[r]=s}}}},get_idField:function(){return this.$options.idField},get_parentIdField:function(){return this.$options.parentIdField},get_textField:function(){return this.$options.textField},get_textFormatter:function(){return this.$options.textFormatter},get_itemById:function(){return this.$itemById},get_items:function(){return this.$items}});ss.initClass(a,e,{get:function(){var e=a.$table[this.$key];if(ss.isNullOrUndefined(e)){e=ss.coalesce(this.$key,"")}return e},toString:function(){var e=a.$table[this.$key];if(ss.isNullOrUndefined(e)){e=ss.coalesce(this.$key,"")}return e}});ss.initClass(l,e,{});ss.initClass(o,e,{});ss.initClass(u,e,{});ss.initClass(c,e,{});ss.initClass(f,e,{});ss.initClass(d,e,{});ss.initClass(g,e,{});ss.initClass(p,e,{});ss.initClass(h,e,{});ss.initClass(m,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(y,e,{});ss.initClass(v,e,{get_html:function(){return this.$html}});ss.initClass(b,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(T,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(S,e,{});ss.initClass(C,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(_,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(w,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(x,e,{});ss.initClass(E,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(N,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(I,e,{get_optionsType:function(){return this.$2$OptionsTypeField},set_optionsType:function(e){this.$2$OptionsTypeField=e}});ss.initClass(O,e,{});ss.initClass(L,e,{get_value:function(){return this.$2$ValueField},set_value:function(e){this.$2$ValueField=e}});ss.initClass(k,e,{});ss.initClass(Q,e,{});ss.initClass(D,e,{});ss.initClass(F,e,{});i.decimalSeparator=".";i.dateSeparator="/";i.dateOrder="dmy";i.dateFormat="dd/MM/yyyy";i.dateTimeFormat="dd/MM/yyyy HH:mm:ss";a.$table={};a.empty=new a("");h.OkButton=new Q$LT("OK");h.YesButton=new Q$LT("Yes");h.NoButton=new Q$LT("No");h.CancelButton=new Q$LT("Cancel");h.AlertTitle=new Q$LT("Alert");h.ConfirmationTitle=new Q$LT("Confirm");h.InformationTitle=new Q$LT("Information");h.WarningTitle=new Q$LT("Warning");a.initializeTextClass(h,"Dialogs.");x.$autoIncrement=0;n.applicationPath="/";n.emailAllowOnlyAscii=false;n.rootNamespaces=null;n.notLoggedInHandler=null;var V=$("link#ApplicationPath");if(V.length>0){n.applicationPath=V.attr("href")}n.rootNamespaces=[];ss.add(n.rootNamespaces,"Serenity");n.emailAllowOnlyAscii=true;l.$registered={};l.$loadedData={};t.$blockUICount=0;c.DeleteConfirmation=new Q$LT("Delete record?");c.UndeleteButton=new Q$LT("Undelete");c.UndeleteConfirmation=new Q$LT("Undelete record?");c.CloneButton=new Q$LT("Clone");c.SaveSuccessMessage=new Q$LT("Save success");c.SaveButton=new Q$LT("Save");c.UpdateButton=new Q$LT("Update");c.ApplyChangesButton=new Q$LT("Apply Changes");c.DeleteButton=new Q$LT("Delete");c.NewRecordTitle=new Q$LT("New {0}");c.EditRecordTitle=new Q$LT("Edit {0}{1}");a.initializeTextClass(c,"Controls.EntityDialog.");f.NewButton=new Q$LT("New {0}");f.RefreshButton=new Q$LT("Refresh");f.IncludeDeletedToggle=new Q$LT("display inactive records");a.initializeTextClass(f,"Controls.EntityGrid.");d.Page=new Q$LT("Page");d.PageStatus=new Q$LT("Showing {from} to {to} of {total} total records");d.NoRowStatus=new Q$LT("No records");d.LoadingStatus=new Q$LT("Please wait, loading data...");d.DefaultLoadError=new Q$LT("An error occured while loading data!");a.initializeTextClass(d,"Controls.Pager.");g.DefaultCategory=new Q$LT("Properties");g.RequiredHint=new Q$LT("this field is required");a.initializeTextClass(g,"Controls.PropertyGrid.");p.Placeholder=new Q$LT("search...");p.Hint=new Q$LT("enter the text to search for...");p.FieldSelection=new Q$LT("select the field to search on");a.initializeTextClass(p,"Controls.QuickSearch.")})();