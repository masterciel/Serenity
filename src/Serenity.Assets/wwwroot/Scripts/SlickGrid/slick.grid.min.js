var Slick=Slick||{};Slick._=(()=>{var t=Object.defineProperty;var e=Object.getOwnPropertyDescriptor;var i=Object.getOwnPropertyNames;var s=Object.prototype.hasOwnProperty;var o=(e,i)=>{for(var s in i)t(e,s,{get:i[s],enumerable:true})};var l=(o,l,r,n)=>{if(l&&typeof l==="object"||typeof l==="function"){for(let a of i(l))if(!s.call(o,a)&&a!==r)t(o,a,{get:()=>l[a],enumerable:!(n=e(l,a))||n.enumerable})}return o};var r=e=>l(t({},"__esModule",{value:true}),e);var n={};o(n,{BasicLayout:()=>L,Grid:()=>Q,gridDefaults:()=>E});var{addClass:a,applyFormatterResultToCellNode:h,columnDefaults:d,convertCompatFormatter:c,escape:u,defaultColumnFormat:g,disableSelection:f,Event:v,EventData:p,GlobalEditorLock:_,H:C,keyCode:w,NonDataRow:m,preClickClassName:y,removeClass:R,spacerDiv:b,Range:P,RowCell:S}=Slick;var E={addNewRowCssClass:"new-row",alwaysAllowHorizontalScroll:false,alwaysShowVerticalScroll:false,asyncEditorLoadDelay:100,asyncEditorLoading:false,asyncPostCleanupDelay:40,asyncPostRenderDelay:50,
autoEdit:true,autoHeight:false,cellFlashingCssClass:"flashing",dataItemColumnValueExtractor:null,defaultColumnWidth:80,defaultFormat:g,editable:false,editorFactory:null,editorLock:_,enableAddRow:false,enableAsyncPostRender:false,enableAsyncPostRenderCleanup:false,enableCellNavigation:true,enableColumnReorder:true,enableTabKeyNavigation:true,enableTextSelectionOnCells:false,explicitInitialization:false,footerRowHeight:30,forceFitColumns:false,forceSyncScrolling:false,forceSyncScrollInterval:250,formatterFactory:null,fullWidthRows:false,groupingPanel:false,groupingPanelHeight:30,headerRowHeight:30,leaveSpaceForNewRows:false,useLegacyUI:true,minBuffer:3,multiColumnSort:false,multiSelect:true,renderAllCells:false,rowHeight:30,selectedCellCssClass:"selected",showCellSelection:true,showColumnHeader:true,showFooterRow:false,showGroupingPanel:true,showHeaderRow:false,showTopPanel:false,suppressActiveCellChangeOnEdit:false,topPanelHeight:30};var L=function(){var t;var e;var i;var s;var o;var l
;var r;var n;var a;var h;var d;function c(e){t=e;const i=v()+t.getScrollDims().width+"px";const c=t.getOptions();const u=c.useLegacyUI?" ui-state-default":"";o=C("div",{class:"slick-header-columns",style:(c.rtl?"right":"left")+":-1000px"});var g=C("div",{class:"slick-header"+u,style:!c.showColumnHeader&&"display: none"},o);l=C("div",{class:"slick-headerrow-columns"});r=b(i);var f=C("div",{class:"slick-headerrow"+u,style:!c.showHeaderRow&&"display: none"},l,r);h=C("div",{class:"slick-top-panel",style:"width: 10000px"});var p=C("div",{class:"slick-top-panel-scroller"+u,style:!c.showTopPanel&&"display: none"},h);s=C("div",{class:"grid-canvas",tabIndex:"0",hideFocus:""});d=C("div",{class:"slick-viewport",tabIndex:"0",hideFocus:""},s);n=C("div",{class:"slick-footerrow-columns"});a=b(i);var _=C("div",{class:"slick-footerrow"+u,style:!c.showFooterRow&&"display: none"},n,a);t.getContainerNode().append(g,f,p,d,_)}function u(t,e){e&&s.appendChild(e)}function g(){var i=0,s,o,l=t.getColumns()
;for(var r=0;r<l.length;r++){s=l[r].width;o=t.getColumnCssRules(r);const n=t.getOptions().rtl;o[n?"right":"left"].style[n?"right":"left"]=i+"px";o[n?"left":"right"].style[n?"left":"right"]=e-i-s+"px";i+=s}}function f(){var e=s;while((e=e.parentNode)!=document.body&&e!=null){if(e==d||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){t.bindAncestorScroll(e)}}}function v(){var e=t.getColumns(),i=e.length;var s=0;while(i--){s+=e[i].width}return t.getOptions().fullWidthRows?Math.max(s,t.getAvailableWidth()):s}function p(){i=0;var e=t.getScrollDims().width;var s=t.getColumns();for(var l=0,r=s.length;l<r;l++){i+=s[l].width}i+=e;i=Math.max(i,t.getViewportInfo().width)+1e3;o.style.width=i+"px"}const _=()=>{t=null};function w(){return s}function m(){return[s]}function y(){return e}function R(){return[o]}function P(t){return o.children.item(t)}function S(){return[l]}function E(t){return l.childNodes.item(t)}function L(){return l}function I(t){return n.childNodes.item(t)}function F(){
return n}function H(){return o}function N(){return[n]}function D(e){return t.getRowFromNode(e.parentElement)}function k(){return h}function A(){return[h]}function x(){return d}function T(){return[d]}function M(){o.parentElement.scrollLeft=t.getScrollLeft();h.parentElement.scrollLeft=t.getScrollLeft();l.parentElement.scrollLeft=t.getScrollLeft();n.parentElement.scrollLeft=t.getScrollLeft()}function z(){}function W(){s.style.height=t.getViewportInfo().realScrollHeight+"px"}function V(t){return t}function O(){return false}function j(){var e=t.getOptions().alwaysShowVerticalScroll;d.style.overflowX="auto";d.style.overflowY=e?"scroll":t.getOptions().autoHeight?"hidden":"auto"}function Q(){var i=e;e=v();var o=t.getScrollDims().width;const h=t.getViewportInfo();if(e!=i){var d=e+"px";s.style.width=d;l.style.width=d;n.style.width=d;p();h.hasHScroll=e>t.getViewportInfo().width-o}var c=e+(h.hasVScroll?o:0)+"px";r.style.width=c;a.style.width=c;return e!=i}const B=()=>{var e=t.getViewportInfo()
;var i=e.height+e.topPanelHeight+e.headerRowHeight+e.footerRowHeight;const s=t.getOptions();if(s.autoHeight){t.getContainerNode().style.height=i+e.groupingPanelHeight+parseFloat(getComputedStyle(o.parentElement).height)+"px";d.style.height=""}else d.style.height=e.height+"px"};function X(){return 0}var U={afterHeaderColumnDrag:z,afterRenderRows:z,afterSetOptions:z,appendCachedRow:u,applyColumnWidths:g,beforeCleanupAndRenderCells:z,bindAncestorScrollEvents:f,calcCanvasWidth:v,updateHeadersWidth:p,isFrozenRow:O,destroy:_,getCanvasNodeFor:w,getCanvasNodes:m,getCanvasWidth:y,getFooterRowCols:N,getFooterRowColsFor:F,getFooterRowColumn:I,getHeaderCols:R,getHeaderColsFor:H,getHeaderColumn:P,getHeaderRowCols:S,getHeaderRowColsFor:L,getHeaderRowColumn:E,getRowFromCellNode:D,getFrozenCols:X,getFrozenRowOffset:X,getFrozenRows:X,getScrollCanvasY:w,getScrollContainerX:x,getScrollContainerY:x,getTopPanelFor:k,getTopPanelNodes:A,getViewportNodeFor:x,getViewportNodes:T,handleScrollH:M,handleScrollV:z,
init:c,layoutName:"basic",realScrollHeightChange:W,reorderViewColumns:V,resizeCanvas:B,setOverflow:j,setPaneVisibility:z,setScroller:z,updateCanvasWidth:Q};return U};var I=class{constructor(t){this.host=t}findFirstFocusableCell(t){var e=0;var i=this.host.getColumnCount();while(e<i){if(this.host.canCellBeActive(t,e)){return e}e+=this.host.getColspan(t,e)}return null}findLastFocusableCell(t){var e=0;var i=null;var s=this.host.getColumnCount();while(e<s){if(this.host.canCellBeActive(t,e)){i=e}e+=this.host.getColspan(t,e)}return i}gotoRight(t,e){var i=this.host.getColumnCount();if(e>=i){return null}do{e+=this.host.getColspan(t,e)}while(e<i&&!this.host.canCellBeActive(t,e));if(e<i){return{row:t,cell:e,posX:e}}return null}gotoLeft(t,e){if(e<=0){return null}var i=this.findFirstFocusableCell(t);if(i===null||i>=e){return null}var s={row:t,cell:i,posX:i};var o;while(true){o=this.gotoRight(s.row,s.cell);if(!o){return null}if(o.cell>=e){return s}s=o}}gotoDown(t,e,i){var s
;var o=this.host.getRowCount();while(true){if(++t>=o){return null}s=e=0;while(e<=i){s=e;e+=this.host.getColspan(t,e)}if(this.host.canCellBeActive(t,s)){return{row:t,cell:s,posX:i}}}}gotoUp(t,e,i){var s;while(true){if(--t<0){return null}s=e=0;while(e<=i){s=e;e+=this.host.getColspan(t,e)}if(this.host.canCellBeActive(t,s)){return{row:t,cell:s,posX:i}}}}gotoNext(t,e,i){if(t==null&&e==null){t=e=i=0;if(this.host.canCellBeActive(t,e)){return{row:t,cell:e,posX:e}}}var s=this.gotoRight(t,e);if(s){return s}var o=null;var l=this.host.getRowCount();while(++t<l){o=this.findFirstFocusableCell(t);if(o!=null){return{row:t,cell:o,posX:o}}}return null}gotoPrev(t,e,i){var s=this.host.getColumnCount();if(t==null&&e==null){t=this.host.getRowCount()-1;e=i=s-1;if(this.host.canCellBeActive(t,e)){return{row:t,cell:e,posX:e}}}var o;var l;while(!o){o=this.gotoLeft(t,e);if(o){break}if(--t<0){return null}e=0;l=this.findLastFocusableCell(t);if(l!=null){o={row:t,cell:l,posX:l}}}return o}gotoRowStart(t){
var e=this.findFirstFocusableCell(t);if(e===null)return null;return{row:t,cell:e,posX:e}}gotoRowEnd(t){var e=this.findLastFocusableCell(t);if(e===null)return null;return{row:t,cell:e,posX:e}}navigate(t,e,i,s){var o={up:-1,down:1,prev:-1,next:1,home:-1,end:1};const l=this.host.isRTL();o[l?"right":"left"]=-1;o[l?"left":"right"]=1;this.host.setTabbingDirection(o[t]);var r={up:this.gotoUp,down:this.gotoDown,prev:this.gotoPrev,next:this.gotoNext,home:this.gotoRowStart,end:this.gotoRowEnd};r[l?"right":"left"]=this.gotoLeft;r[l?"left":"right"]=this.gotoRight;var n=r[t].bind(this);return n(e,i,s)}};var F;var H;function N(t){var e={top:t.offsetTop,left:t.offsetLeft,bottom:0,right:0,width:t.offsetWidth,height:t.offsetHeight,visible:true};e.bottom=e.top+e.height;e.right=e.left+e.width;var i=t.offsetParent;while((t=t.parentNode)!=document.body){if(e.visible&&t.scrollHeight!=t.offsetHeight&&getComputedStyle(t).overflowY!=="visible"){e.visible=e.bottom>t.scrollTop&&e.top<t.scrollTop+t.clientHeight}
if(e.visible&&t.scrollWidth!=t.offsetWidth&&getComputedStyle(t).overflowX!="visible"){e.visible=e.right>t.scrollLeft&&e.left<t.scrollLeft+t.clientWidth}e.left-=t.scrollLeft;e.top-=t.scrollTop;if(t===i){e.left+=t.offsetLeft;e.top+=t.offsetTop;i=t.offsetParent}e.bottom=e.top+e.height;e.right=e.left+e.width}return e}function D(t,e,i){var s,o,l=[],r=0,n=0,a;for(s=0;s<t.length;s++){o=t[s];l.push(o.width);n+=o.width;if(o.resizable){r+=o.width-Math.max(o.minWidth,i)}}a=n;while(n>e&&r){var h=(n-e)/r;for(s=0;s<t.length&&n>e;s++){o=t[s];var d=l[s];if(!o.resizable||d<=o.minWidth||d<=i){continue}var c=Math.max(o.minWidth,i);var u=Math.floor(h*(d-c))||1;u=Math.min(u,d-c);n-=u;r-=u;l[s]-=u}if(a<=n){break}a=n}a=n;while(n<e){var g=e/n;for(s=0;s<t.length&&n<e;s++){o=t[s];var f=l[s];var v;if(!o.resizable||o.maxWidth<=f){v=0}else{v=Math.min(Math.floor(g*f)-f,o.maxWidth-f||1e6)||1}n+=v;l[s]+=n<=e?v:0}if(a>=n){break}a=n}var p=false;for(s=0;s<t.length;s++){if(t[s].rerenderOnResize&&t[s].width!=l[s]){p=true}
t[s].width=l[s]}return p}function k(){return F!=null?F:navigator.userAgent.toLowerCase().match(/gecko\//)?4e6:32e6}function A(t){if(!H||t){var e=document.body.appendChild(C("div",{style:"position:absolute;top:-10000px;left:-10000px;width:100px;height:100px;overflow: scroll;border:0"}));H={width:Math.round(e.offsetWidth-e.clientWidth),height:Math.round(e.offsetWidth-e.clientHeight)};e.remove()}return H}function x(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return false;t.sort();e.sort();for(var i=0;i<t.length;i++){if(t[i]!==e[i])return false}return true}function T(t,e){if(e.length==0)return t;var i={},s={},o=[];for(var l=0;l<e.length;l++)i[e[l]]=l;for(l=0;l<t.length;l++)s[t[l].id]=l;function r(e){for(var l=e;l<t.length;l++){var r=t[l];if(e!=l&&i[r.id]!=null)break;o.push(r);s[r.id]=null}}if(i[t[0].id]==null)r(0);for(var n of e){l=s[n];if(l!=null)r(l)}for(l=0;l<t.length;l++){var a=t[l];if(s[a.id]!=null){o.push(a);s[a.id]=null}}return o}function M(t,e,i,s,o){
var l=null,r=null,n,a;if(s){l=0;r=0;for(n=e+1;n<t.length;n++){a=t[n];if(a.resizable){if(r!=null){if(a.maxWidth){r+=a.maxWidth-a.previousWidth}else{r=null}}l+=a.previousWidth-Math.max(a.minWidth||0,o)}}}var h=0,d=0;for(n=0;n<=e;n++){a=t[n];if(a.resizable){if(d!=null){if(a.maxWidth){d+=a.maxWidth-a.previousWidth}else{d=null}}h+=a.previousWidth-Math.max(a.minWidth||0,o)}}if(l===null){l=1e5}if(h===null){h=1e5}if(r===null){r=1e5}if(d===null){d=1e5}return{maxPageX:i+Math.min(l,d),minPageX:i-Math.min(h,r)}}function z(t,e,i,s,o){var l,r,n,a;if(i<0){n=i;for(r=e;r>=0;r--){l=t[r];if(l.resizable){a=Math.max(l.minWidth||0,o);if(n&&l.previousWidth+n<a){n+=l.previousWidth-a;l.width=a}else{l.width=l.previousWidth+n;n=0}}}if(s){n=-i;for(r=e+1;r<t.length;r++){l=t[r];if(l.resizable){if(n&&l.maxWidth&&l.maxWidth-l.previousWidth<n){n-=l.maxWidth-l.previousWidth;l.width=l.maxWidth}else{l.width=l.previousWidth+n;n=0}}}}}else{n=i;for(r=e;r>=0;r--){l=t[r];if(l.resizable){
if(n&&l.maxWidth&&l.maxWidth-l.previousWidth<n){n-=l.maxWidth-l.previousWidth;l.width=l.maxWidth}else{l.width=l.previousWidth+n;n=0}}}if(s){n=-i;for(r=e+1;r<t.length;r++){l=t[r];if(l.resizable){a=Math.max(l.minWidth||0,o);if(n&&l.previousWidth+n<a){n+=l.previousWidth-a;l.width=a}else{l.width=l.previousWidth+n;n=0}}}}}}function W(){this==null?void 0:this.classList.add("ui-state-hover")}function V(){this==null?void 0:this.classList.remove("ui-state-hover")}function O(t){var e=getComputedStyle(t);if(e.boxSizing==="border-box")return 0;var i=["border-top-width","border-bottom-width","padding-top","padding-bottom"];var s=0;for(var o of i)s+=s+=parseFloat(e.getPropertyValue(o))||0;return s}function j(t){var e=getComputedStyle(t);var i=parseFloat(e.width);if(e.boxSizing!="border-box")return i;var s=["border-top-width","border-bottom-width","padding-top","padding-bottom"];for(var o of s)i-=parseFloat(e.getPropertyValue(o))||0;return Math.max(i,0)}var Q=class{constructor(t,e,i,s){
this._activeCellNode=null;this._cellCssClasses={};this._cellHeightDiff=0;this._cellWidthDiff=0;this._colLeft=[];this._colRight=[];this._currentEditor=null;this._headerColumnWidthDiff=0;this._hEditorLoader=null;this._hPostRender=null;this._hPostRenderCleanup=null;this._hRender=null;this._ignoreScrollUntil=0;this._initialized=false;this._page=0;this._pageOffset=0;this._pagingActive=false;this._pagingIsLastPage=false;this._plugins=[];this._postProcessCleanupQueue=[];this._postProcessedRows={};this._postProcessFromRow=null;this._postProcessGroupId=0;this._postProcessToRow=null;this._rowsCache={};this._scrollLeft=0;this._scrollLeftPrev=0;this._scrollLeftRendered=0;this._scrollTop=0;this._scrollTopPrev=0;this._scrollTopRendered=0;this._selectedRows=[];this._sortColumns=[];this._tabbingDirection=1;this._uid="sleekgrid_"+Math.round(1e6*Math.random());this._viewportInfo={};this._vScrollDir=1;this._boundAncestorScroll=[];this.onActiveCellChanged=new v;this.onActiveCellPositionChanged=new v
;this.onAddNewRow=new v;this.onBeforeCellEditorDestroy=new v;this.onBeforeDestroy=new v;this.onBeforeEditCell=new v;this.onBeforeFooterRowCellDestroy=new v;this.onBeforeHeaderCellDestroy=new v;this.onBeforeHeaderRowCellDestroy=new v;this.onCellChange=new v;this.onCellCssStylesChanged=new v;this.onClick=new v;this.onColumnsReordered=new v;this.onColumnsResized=new v;this.onCompositeEditorChange=new v;this.onContextMenu=new v;this.onDblClick=new v;this.onDrag=new v;this.onDragEnd=new v;this.onDragInit=new v;this.onDragStart=new v;this.onFooterRowCellRendered=new v;this.onHeaderCellRendered=new v;this.onHeaderClick=new v;this.onHeaderContextMenu=new v;this.onHeaderMouseEnter=new v;this.onHeaderMouseLeave=new v;this.onHeaderRowCellRendered=new v;this.onKeyDown=new v;this.onMouseEnter=new v;this.onMouseLeave=new v;this.onScroll=new v;this.onSelectedRowsChanged=new v;this.onSort=new v;this.onValidationError=new v;this.onViewportChanged=new v;this.handleSelectedRangesChanged=(t,e)=>{
var i=this._selectedRows.slice(0);this._selectedRows=[];var s={},o=this._cols;for(var l=0;l<e.length;l++){for(var r=e[l].fromRow;r<=e[l].toRow;r++){if(!s[r]){this._selectedRows.push(r);s[r]={}}for(var n=e[l].fromCell;n<=e[l].toCell;n++){if(this.canCellBeSelected(r,n)){s[r][o[n].id]=this._options.selectedCellCssClass}}}}this.setCellCssStyles(this._options.selectedCellCssClass,s);if(!x(i,this._selectedRows)){var a=t&&t.detail&&t.detail.caller||"click";var h=this._selectedRows.filter((t=>i.indexOf(t)<0));var d=i.filter((t=>this._selectedRows.indexOf(t)<0));this.trigger(this.onSelectedRowsChanged,{rows:this.getSelectedRows(),previousSelectedRows:i,caller:a,changedSelectedRows:h,changedUnselectedRows:d},t)}this._selectedRows=[];var s={},o=this._cols;for(var l=0;l<e.length;l++){for(var r=e[l].fromRow;r<=e[l].toRow;r++){if(!s[r]){this._selectedRows.push(r);s[r]={}}for(var n=e[l].fromCell;n<=e[l].toCell;n++){if(this.canCellBeSelected(r,n)){s[r][o[n].id]=this._options.selectedCellCssClass}}}}}
;this.viewOnRowCountChanged=()=>{this.updateRowCount();this.render()};this.viewOnRowsChanged=(t,e)=>{this.invalidateRows(e.rows);this.render();this.updateGrandTotals()};this.viewOnDataChanged=()=>{this.invalidate();this.render()};this.resizeCanvas=()=>{if(!this._initialized){return}this.calcViewportSize();this._layout.resizeCanvas();if(!this._scrollDims||!this._scrollDims.width){this._scrollDims=A(true)}if(this._options.forceFitColumns){this.autosizeColumns()}this.updateRowCount();this.handleScroll();this._scrollLeftRendered=-1;this.render()};this.render=()=>{if(!this._initialized){return}var t=this.getVisibleRange();var e=this.getRenderedRange();this.cleanupRows(e);if(this._scrollLeftRendered!=this._scrollLeft){this._layout.beforeCleanupAndRenderCells(e);this.cleanUpAndRenderCells(e)}this.renderRows(e);this._layout.afterRenderRows(e);this._postProcessFromRow=t.top;this._postProcessToRow=Math.min(this.getDataLengthIncludingAddNew()-1,t.bottom);this.startPostProcessing()
;this._scrollTopRendered=this._scrollTop;this._scrollLeftRendered=this._scrollLeft;this._lastRenderTime=(new Date).getTime();this._hRender=null};this.handleHeaderRowScroll=t=>{if(this._ignoreScrollUntil>=(new Date).getTime())return;var e=t.target.scrollLeft;if(e!=this._layout.getScrollContainerX().scrollLeft){this._layout.getScrollContainerX().scrollLeft=e}};this.handleFooterRowScroll=t=>{if(this._ignoreScrollUntil>=(new Date).getTime())return;var e=t.target.scrollLeft;if(e!=this._layout.getScrollContainerX().scrollLeft){this._layout.getScrollContainerX().scrollLeft=e}};this.handleActiveCellPositionChange=()=>{if(!this._activeCellNode){return}this.trigger(this.onActiveCellPositionChanged,{});if(this._currentEditor){var t=this.getActiveCellPosition();if(this._currentEditor.show&&this._currentEditor.hide){if(!t.visible){this._currentEditor.hide()}else{this._currentEditor.show()}}if(this._currentEditor.position){this._currentEditor.position(t)}}};var o,l;this._data=e
;this._colDefaults=Object.assign({},d);this._options=s=Object.assign({},E,s);s.jQuery=this._jQuery=s.jQuery===void 0?typeof jQuery!=="undefined"?jQuery:void 0:void 0;if(this._jQuery&&t instanceof this._jQuery)this._container=t[0];else if(t instanceof Element)this._container=t;else if(typeof t==="string")this._container=document.querySelector(t);if(this._container==null){throw new Error("SleekGrid requires a valid container, "+t+" does not exist in the DOM.")}this._container.classList.add("slick-container");if(s==null?void 0:s.createPreHeaderPanel){if(s.groupingPanel==null)s.groupingPanel=true;if(s.groupingPanelHeight==null&&s.preHeaderPanelHeight!=null)s.groupingPanelHeight=s.preHeaderPanelHeight;if(s.showGroupingPanel==null&&s.showPreHeaderPanel!=null)s.showGroupingPanel=s.showPreHeaderPanel}this._options.rtl=(o=this._options.rtl)!=null?o:document.body.classList.contains("rtl")||typeof getComputedStyle!="undefined"&&getComputedStyle(this._container).direction=="rtl"
;this.validateAndEnforceOptions();this._colDefaults.width=s.defaultColumnWidth;this._editController={commitCurrentEdit:this.commitCurrentEdit.bind(this),cancelCurrentEdit:this.cancelCurrentEdit.bind(this)};if(this._jQuery)this._jQuery(this._container).empty();else this._container.innerHTML="";this._container.style.overflow="hidden";this._container.style.outline="0";this._container.classList.add(this._uid);if(this._options.useLegacyUI)this._container.classList.add("ui-widget");if(!/relative|absolute|fixed/.test(getComputedStyle(this._container).position)){this._container.style.position="relative"}this._container.appendChild(this._focusSink1=C("div",{class:"slick-focus-sink",hideFocus:"",style:"position:fixed;width:0!important;height:0!important;top:0;left:0;outline:0!important;",tabIndex:"0"}));this._layout=(l=s.layoutEngine)!=null?l:new L;this.setInitialCols(i);this._scrollDims=A();if(s.groupingPanel){this._container.appendChild(this._groupingPanel=C("div",{
class:"slick-grouping-panel",style:"overflow:hidden; position:relative;"+(!s.showGroupingPanel?" display: none":"")}));if(s.createPreHeaderPanel){this._groupingPanel.appendChild(C("div",{class:"slick-preheader-panel"}))}}this._layout.init({cleanUpAndRenderCells:this.cleanUpAndRenderCells.bind(this),bindAncestorScroll:this.bindAncestorScroll.bind(this),getAvailableWidth:this.getAvailableWidth.bind(this),getCellFromPoint:this.getCellFromPoint.bind(this),getColumnCssRules:this.getColumnCssRules.bind(this),getColumns:this.getColumns.bind(this),getContainerNode:this.getContainerNode.bind(this),getDataLength:this.getDataLength.bind(this),getOptions:this.getOptions.bind(this),getRowFromNode:this.getRowFromNode.bind(this),getScrollDims:this.getScrollBarDimensions.bind(this),getScrollLeft:()=>this._scrollLeft,getScrollTop:()=>this._scrollTop,getViewportInfo:()=>this._viewportInfo,renderRows:this.renderRows.bind(this)});this._container.append(this._focusSink2=this._focusSink1.cloneNode())
;if(s.viewportClass)this.getViewports().forEach((t=>a(t,s.viewportClass)));if(!s.explicitInitialization){this.init()}this.bindToData()}bindAncestorScroll(t){t.addEventListener("scroll",this.handleActiveCellPositionChange);this._boundAncestorScroll.push(t)}init(){if(this._initialized)return;this._initialized=true;this.calcViewportSize();this.measureCellPaddingAndBorder();var t=this.getViewports();if(this._jQuery&&!this._options.enableTextSelectionOnCells){this._jQuery(t).on("selectstart.ui",(()=>this._jQuery(this).is("input,textarea")))}this._layout.setPaneVisibility();this._layout.setScroller();this.setOverflow();this.updateViewColLeftRight();this.createColumnHeaders();this.createColumnFooters();this.setupColumnSort();this.createCssRules();this.resizeCanvas();this._layout.bindAncestorScrollEvents();this._container.addEventListener("resize",this.resizeCanvas);t.forEach((t=>{var e=false;t.addEventListener("scroll",(t=>{if(!e){e=true;window.requestAnimationFrame((()=>{this.handleScroll()
;e=false}))}}))}));if(this._jQuery&&this._jQuery.fn.mousewheel&&(this.hasFrozenColumns()||this.hasFrozenRows())){this._jQuery(t).on("mousewheel",this.handleMouseWheel.bind(this))}this._layout.getHeaderCols().forEach((t=>{f(t);t.addEventListener("contextmenu",this.handleHeaderContextMenu.bind(this));t.addEventListener("click",this.handleHeaderClick.bind(this));t.addEventListener("mouseenter",(t=>t.target.closest(".slick-header-column")&&this.handleHeaderMouseEnter(t)));t.addEventListener("mouseleave",(t=>t.target.closest(".slick-header-column")&&this.handleHeaderMouseLeave(t)))}));this._layout.getHeaderRowCols().forEach((t=>{t.parentElement.addEventListener("scroll",this.handleHeaderRowScroll);t.parentElement.addEventListener("scroll",this.handleHeaderRowScroll)}));this._layout.getFooterRowCols().forEach((t=>{t.parentElement.addEventListener("scroll",this.handleFooterRowScroll);t.parentElement.addEventListener("scroll",this.handleFooterRowScroll)}))
;[this._focusSink1,this._focusSink2].forEach((t=>t.addEventListener("keydown",this.handleKeyDown.bind(this))));var e=Array.from(this.getCanvases());e.forEach((t=>{t.addEventListener("keydown",this.handleKeyDown.bind(this));t.addEventListener("click",this.handleClick.bind(this));t.addEventListener("dblclick",this.handleDblClick.bind(this));t.addEventListener("contextmenu",this.handleContextMenu.bind(this))}));if(this._jQuery&&this._jQuery.fn.drag){this._jQuery(e).on("draginit",this.handleDragInit.bind(this)).on("dragstart",{distance:3},this.handleDragStart.bind(this)).on("drag",this.handleDrag.bind(this)).on("dragend",this.handleDragEnd.bind(this))}e.forEach((t=>{t.addEventListener("mouseenter",(t=>t.target.closest(".slick-cell")&&this.handleMouseEnter(t)));t.addEventListener("mouseleave",(t=>t.target.closest(".slick-cell")&&this.handleMouseLeave(t)))}));if(navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&this._jQuery){
this._jQuery(e).on("mousewheel",this.handleMouseWheel.bind(this))}}hasFrozenColumns(){return this._layout.getFrozenCols()>0}hasFrozenRows(){return this._layout.getFrozenRows()>0}registerPlugin(t){this._plugins.unshift(t);t.init(this)}unregisterPlugin(t){for(var e=this._plugins.length;e>=0;e--){if(this._plugins[e]===t){if(this._plugins[e].destroy){this._plugins[e].destroy()}this._plugins.splice(e,1);break}}}getPluginByName(t){for(var e=this._plugins.length-1;e>=0;e--){if(this._plugins[e].pluginName===t)return this._plugins[e]}}setSelectionModel(t){if(this._selectionModel){this._selectionModel.onSelectedRangesChanged.unsubscribe(this.handleSelectedRangesChanged);if(this._selectionModel.destroy){this._selectionModel.destroy()}}this._selectionModel=t;if(this._selectionModel){this._selectionModel.init(this);this._selectionModel.onSelectedRangesChanged.subscribe(this.handleSelectedRangesChanged)}}getScrollBarDimensions(){return this._scrollDims}getDisplayedScrollbarDimensions(){return{
width:this._viewportInfo.hasVScroll?this._scrollDims.width:0,height:this._viewportInfo.hasHScroll?this._scrollDims.height:0}}getAbsoluteColumnMinWidth(){return this._absoluteColMinWidth}getSelectionModel(){return this._selectionModel}colIdOrIdxToCell(t){if(t==null)return null;if(typeof t!=="number")return this.getColumnIndex(t);return t}getCanvasNode(t,e){return this._layout.getCanvasNodeFor(e||0,this.colIdOrIdxToCell(t||0))}getCanvases(){var t=this._layout.getCanvasNodes();return this._jQuery?this._jQuery(t):t}getActiveCanvasNode(t){this.setActiveCanvasNode(t);return this._activeCanvasNode}setActiveCanvasNode(t){if(t){this._activeCanvasNode=t.target.closest(".grid-canvas")}}getViewportNode(t,e){return this._layout.getViewportNodeFor(e||0,this.colIdOrIdxToCell(t||0))}getViewports(){return this._layout.getViewportNodes()}getActiveViewportNode(t){this.setActiveViewportNode(t);return this._activeViewportNode}setActiveViewportNode(t){if(t){
this._activeViewportNode=t.target.closest(".slick-viewport")}}getAvailableWidth(){return this._viewportInfo.hasVScroll?this._viewportInfo.width-this._scrollDims.width:this._viewportInfo.width}updateCanvasWidth(t){const e=this._layout.updateCanvasWidth();if(e||t){this._layout.applyColumnWidths()}}unbindAncestorScrollEvents(){if(this._boundAncestorScroll){for(var t of this._boundAncestorScroll)t.removeEventListener("scroll",this.handleActiveCellPositionChange)}this._boundAncestorScroll=[]}updateColumnHeader(t,e,i){if(!this._initialized){return}var s=this.getColumnIndex(t);if(s==null){return}var o=this._cols[s];var l=this._layout.getHeaderColumn(s);if(!l)return;if(e!==void 0){o.name=e}if(i!==void 0){o.toolTip=i}this.trigger(this.onBeforeHeaderCellDestroy,{node:l,column:o});if(i!==void 0)l.title=i||"";if(e!==void 0){var r=l.firstElementChild;if(o.nameIsHtml)r&&(r.innerHTML=e!=null?e:"");else r&&(r.textContent=e!=null?e:"")}this.trigger(this.onHeaderCellRendered,{node:l,column:o})}
getHeader(){return this._layout.getHeaderCols()[0]}getHeaderColumn(t){var e=this.colIdOrIdxToCell(t);if(e==null)return null;return this._layout.getHeaderColumn(e)}getGroupingPanel(){return this._groupingPanel}getPreHeaderPanel(){var t;return(t=this._groupingPanel)==null?void 0:t.querySelector(".slick-preheader-panel")}getHeaderRow(){return this._layout.getHeaderRowCols()[0]}getHeaderRowColumn(t){var e=this.colIdOrIdxToCell(t);if(e==null)return;return this._layout.getHeaderRowColumn(e)}getFooterRow(){return this._layout.getFooterRowCols()[0]}getFooterRowColumn(t){var e=this.colIdOrIdxToCell(t);if(e==null)return null;return this._layout.getFooterRowColumn(e)}createColumnFooters(){var t=this._layout.getFooterRowCols();t.forEach((t=>{t.querySelectorAll(".slick-footerrow-column").forEach((t=>{var e=this.getColumnFromNode(t);if(e){this.trigger(this.onBeforeFooterRowCellDestroy,{node:t,column:e})}}));if(this._jQuery){this._jQuery(t).empty()}else t.innerHTML=""}));var e=this._cols
;for(var i=0;i<e.length;i++){var s=e[i];var o=C("div",{class:"slick-footerrow-column l"+i+" r"+i+(this._options.useLegacyUI?" ui-state-default":"")});o.dataset.c=i.toString();this._jQuery&&this._jQuery(o).data("column",s);if(s.footerCssClass)a(o,s.footerCssClass);else if(s.cssClass)a(o,s.cssClass);this._layout.getFooterRowColsFor(i).appendChild(o);this.trigger(this.onFooterRowCellRendered,{node:o,column:s})}}createColumnHeaders(){var t,e;const i=this._layout.getHeaderCols();i.forEach((t=>{t.querySelectorAll(".slick-header-column").forEach((t=>{var e=this.getColumnFromNode(t);if(e){this.trigger(this.onBeforeHeaderCellDestroy,{node:t,column:e})}}));if(this._jQuery){this._jQuery(t).empty()}else{t.innerHTML=""}}));this._layout.updateHeadersWidth();var s=this._cols,o=this._layout.getFrozenCols();for(var l=0;l<s.length;l++){var r=s[l];var n=this._layout.getHeaderColsFor(l);var h=document.createElement("span");h.className="slick-column-name"
;if(r.nameIsHtml)h.innerHTML=(t=r.name)!=null?t:"";else h.textContent=(e=r.name)!=null?e:"";var d=C("div",{class:"slick-header-column"+(this._options.useLegacyUI?" ui-state-default ":""),id:""+this._uid+r.id,title:r.toolTip||"",style:"width: "+(r.width-this._headerColumnWidthDiff)+"px"},h);d.dataset.c=l.toString();this._jQuery&&this._jQuery(d).data("column",r);r.headerCssClass&&a(d,r.headerCssClass);l<o&&d.classList.add("frozen");n.appendChild(d);if((this._options.enableColumnReorder||r.sortable)&&this._options.useLegacyUI){d.addEventListener("mouseenter",W);d.addEventListener("mouseleave",V)}if(r.sortable){d.classList.add("slick-header-sortable");d.appendChild(C("span",{class:"slick-sort-indicator"}))}this.trigger(this.onHeaderCellRendered,{node:d,column:r});if(this._options.showHeaderRow){var c=this._layout.getHeaderRowColsFor(l);var u=C("div",{class:"slick-headerrow-column l"+l+" r"+l+(this._options.useLegacyUI?" ui-state-default":"")});u.dataset.c=l.toString()
;this._jQuery&&this._jQuery(u).data("column",r);c.appendChild(u);this.trigger(this.onHeaderRowCellRendered,{node:u,column:r})}}this.setSortColumns(this._sortColumns);this.setupColumnResize();if(this._options.enableColumnReorder)this.setupColumnReorder()}setupColumnSort(){this._layout.getHeaderCols().forEach((t=>t.addEventListener("click",(t=>{var e=t.target;if(e.classList.contains("slick-resizable-handle")){return}var i=e.closest(".slick-header-column");if(!i){return}var s=this.getColumnFromNode(i);if(s.sortable){if(!this.getEditorLock().commitCurrentEdit()){return}var o=null;var l=0;for(;l<this._sortColumns.length;l++){if(this._sortColumns[l].columnId==s.id){o=this._sortColumns[l];o.sortAsc=!o.sortAsc;break}}if(t.metaKey&&this._options.multiColumnSort){if(o){this._sortColumns.splice(l,1)}}else{if(!t.shiftKey&&!t.metaKey||!this._options.multiColumnSort){this._sortColumns=[]}if(!o){o={columnId:s.id,sortAsc:s.defaultSortAsc};this._sortColumns.push(o)}else if(this._sortColumns.length==0){
this._sortColumns.push(o)}}this.setSortColumns(this._sortColumns);if(!this._options.multiColumnSort){this.trigger(this.onSort,{multiColumnSort:false,sortCol:s,sortAsc:o.sortAsc},t)}else{var r=this._initCols;this.trigger(this.onSort,{multiColumnSort:true,sortCols:this._sortColumns.map((t=>({sortCol:r[this.getInitialColumnIndex(t.columnId)],sortAsc:t.sortAsc})))},t)}}}))))}setupColumnReorder(){if(this._jQuery)this._jQuery(this._layout.getHeaderCols()).filter(":ui-sortable").sortable("destroy");var t=null;var e=()=>{this._layout.getScrollContainerX().scrollLeft=this._layout.getScrollContainerX().scrollLeft+10};var i=()=>{this._layout.getScrollContainerX().scrollLeft=this._layout.getScrollContainerX().scrollLeft-10};var s;var o=this._options.groupingPanel;this._jQuery([this._layout.getHeaderCols()]).sortable({containment:o?void 0:"parent",distance:3,axis:o?void 0:"x",cursor:"default",tolerance:"intersection",helper:"clone",
placeholder:"slick-sortable-placeholder"+(this._options.useLegacyUI?" ui-state-default":"")+" slick-header-column",forcePlaceholderSize:o?true:void 0,appendTo:o?"body":void 0,start:(t,e)=>{e.placeholder.outerHeight(e.helper.outerHeight());e.placeholder.outerWidth(e.helper.outerWidth());s=!this.hasFrozenColumns()||e.placeholder.offset()[this._options.rtl?"right":"left"]+Math.round(e.placeholder.width())>this._jQuery(this._layout.getScrollContainerX()).offset()[this._options.rtl?"right":"left"];this._jQuery(e.helper).addClass("slick-header-column-active")},beforeStop:(t,e)=>{this._jQuery(e.helper).removeClass("slick-header-column-active");if(o){var i=this._jQuery(this.getGroupingPanel());var s=i.find(".slick-dropped-grouping").length;if(s>0){i.find(".slick-dropped-placeholder").hide();i.find(".slick-dropped-grouping").show()}}},sort:o=>{if(s&&o.originalEvent.pageX>this._container.clientWidth){if(!t){t=setInterval(e,100)}
}else if(s&&o.originalEvent.pageX<this._jQuery(this._layout.getScrollContainerX()).offset().left){if(!t){t=setInterval(i,100)}}else{clearInterval(t);t=null}},stop:e=>{var i=false;clearInterval(t);t=null;if(i||!this.getEditorLock().commitCurrentEdit()){this._jQuery(e.target).sortable("cancel");return}var s;this._layout.getHeaderCols().forEach((t=>s=T(this._initCols,this._jQuery(t).sortable("toArray").map((t=>t.substring(this._uid.length))))));this.setColumns(s);this.trigger(this.onColumnsReordered,{});e.stopPropagation();this.setupColumnResize()}})}setupColumnResize(){var t,e,i,s=this._cols;var o=[];this._layout.getHeaderCols().forEach((t=>{o=o.concat(Array.from(t.children))}));var l,r,e,t,i,n,a,s=this._cols;var n,a;o.forEach(((t,e)=>{var i;(i=t.querySelector(".slick-resizable-handle"))==null?void 0:i.remove();if(s[e].resizable){if(n===void 0){n=e}a=e}}));if(n===void 0){return}const h=!this._jQuery||!this._jQuery.fn||!(!this._jQuery.fn).drag;o.forEach(((d,c)=>{
if(c<n||this._options.forceFitColumns&&c>=a){return}const u=d.appendChild(document.createElement("div"));u.classList.add("slick-resizable-handle");u.draggable=true;var g=null;const f=l=>{var r;if(!this.getEditorLock().commitCurrentEdit()){!h&&l.preventDefault();return}if(h){g=t=>t.preventDefault();document.addEventListener("dragover",g)}e=l.pageX;(r=l.target.parentElement)==null?void 0:r.classList.add("slick-header-column-active");o.forEach(((t,e)=>{s[e].previousWidth=t.offsetWidth}));const n=M(s,c,e,this._options.forceFitColumns,this._absoluteColMinWidth);i=n.maxPageX;t=n.minPageX;h&&(l.dataTransfer.effectAllowed="move")};const v=o=>{if(h){if(!o.pageX&&!o.clientX&&!o.pageY&&!o.clientY)return;o.dataTransfer.effectAllowed="none";o.preventDefault()}z(s,c,Math.min(i,Math.max(t,o.pageX))-e,this._options.forceFitColumns,this._absoluteColMinWidth);this._layout.afterHeaderColumnDrag();this.applyColumnHeaderWidths();if(this._options.syncColumnCellResize){this._layout.applyColumnWidths()}}
;const p=t=>{var e;if(g){document.removeEventListener("dragover",g);g=null}(e=t.target.parentElement)==null?void 0:e.classList.remove("slick-header-column-active");for(l=0;l<o.length;l++){r=s[l];var i=o[l].offsetWidth;if(r.previousWidth!==i&&r.rerenderOnResize){this.invalidateAllRows()}}this.updateCanvasWidth(true);this.render();this.trigger(this.onColumnsResized)};if(h){u.addEventListener("dragstart",f);u.addEventListener("drag",v);u.addEventListener("dragend",p);u.addEventListener("dragover",(t=>{t.preventDefault();t.dataTransfer.effectAllowed="move"}))}else{this._jQuery(u).on("dragstart",f).on("drag",v).on("dragend",p)}}))}setOverflow(){this._layout.setOverflow();if(this._options.viewportClass)this.getViewports().forEach((t=>a(t,this._options.viewportClass)))}measureCellPaddingAndBorder(){const t=["border-left-width","border-right-width","padding-left","padding-right"];const e=["border-top-width","border-bottom-width","padding-top","padding-bottom"]
;var i=this._layout.getHeaderColsFor(0).appendChild(C("div",{class:"slick-header-column"+(this._options.useLegacyUI?" ui-state-default":""),style:"visibility:hidden"}));this._headerColumnWidthDiff=0;var s=getComputedStyle(i);if(s.boxSizing!="border-box")t.forEach((t=>this._headerColumnWidthDiff+=parseFloat(s.getPropertyValue(t))||0));i.remove();var o=this._layout.getCanvasNodeFor(0,0).appendChild(C("div",{class:"slick-row"},i=C("div",{class:"slick-cell",id:"",style:"visibility: hidden"})));i.innerHTML="-";this._cellWidthDiff=this._cellHeightDiff=0;s=getComputedStyle(i);if(s.boxSizing!="border-box"){t.forEach((t=>this._cellWidthDiff+=parseFloat(s.getPropertyValue(t))||0));e.forEach((t=>this._cellHeightDiff+=parseFloat(s.getPropertyValue(t))||0))}o.remove();this._absoluteColMinWidth=Math.max(this._headerColumnWidthDiff,this._cellWidthDiff)}createCssRules(){var t=this._styleNode=document.createElement("style");t.dataset.uid=this._uid;var e=this._options.rowHeight-this._cellHeightDiff
;var i=["."+this._uid+" { --slick-cell-height: "+this._options.rowHeight+"px; }","."+this._uid+" .slick-group-header-column { "+(this._options.rtl?"right":"left")+": 1000px; }","."+this._uid+" .slick-header-column { "+(this._options.rtl?"right":"left")+": 1000px; }","."+this._uid+" .slick-top-panel { height:"+this._options.topPanelHeight+"px; }","."+this._uid+" .slick-grouping-panel { height:"+this._options.groupingPanelHeight+"px; }","."+this._uid+" .slick-headerrow-columns { height:"+this._options.headerRowHeight+"px; }","."+this._uid+" .slick-cell { height:"+e+"px; }","."+this._uid+" .slick-row { height:"+this._options.rowHeight+"px; }","."+this._uid+" .slick-footerrow-columns { height:"+this._options.footerRowHeight+"px; }"];var s=this._cols;for(var o=0;o<s.length;o++){i.push("."+this._uid+" .l"+o+" { }");i.push("."+this._uid+" .r"+o+" { }")}t.appendChild(document.createTextNode(i.join(" ")));document.head.appendChild(t)}getColumnCssRules(t){if(!this._stylesheet){
var e=document.querySelector("style[data-uid='"+this._uid+"']");if(e&&e.sheet){this._stylesheet=e.sheet}else{var i=document.styleSheets;for(var s=0;s<i.length;s++){if((i[s].ownerNode||i[s].owningElement)==this._styleNode){this._stylesheet=i[s];break}}}if(!this._stylesheet){throw new Error("Cannot find stylesheet.")}this._columnCssRulesL=[];this._columnCssRulesR=[];var o=this._stylesheet.cssRules||this._stylesheet.rules;var l,r;for(var s=0;s<o.length;s++){var n=o[s].selectorText;if(l=/\.l\d+/.exec(n)){r=parseInt(l[0].substring(2,l[0].length),10);this._columnCssRulesL[r]=o[s]}else if(l=/\.r\d+/.exec(n)){r=parseInt(l[0].substring(2,l[0].length),10);this._columnCssRulesR[r]=o[s]}}}return this._options.rtl?{right:this._columnCssRulesL[t],left:this._columnCssRulesR[t]}:{left:this._columnCssRulesL[t],right:this._columnCssRulesR[t]}}removeCssRules(){this._styleNode.remove();this._stylesheet=null}destroy(){this.getEditorLock().cancelCurrentEdit();this.trigger(this.onBeforeDestroy)
;var t=this._plugins.length;while(t--){this.unregisterPlugin(this._plugins[t])}if(this._options.enableColumnReorder&&this._jQuery){this._jQuery(this._layout.getHeaderCols()).filter(":ui-sortable").sortable("destroy")}this.unbindAncestorScrollEvents();this._jQuery(this._container).off(".slickgrid");this.removeCssRules();var e=this._layout.getCanvasNodes();if(this._jQuery)this._jQuery(e).off("draginit dragstart dragend drag");else e.forEach((t=>t.remove()));for(var i in this){if(!Object.prototype.hasOwnProperty.call(this,i))continue;if(i.startsWith("on")){var s=this[i];if((s==null?void 0:s.clear)&&(s==null?void 0:s.subscribe))s==null?void 0:s.clear()}delete this[i]}}trigger(t,e,i){i=i||new p;e=e||{};e.grid=this;return t.notify(e,i,this)}getEditorLock(){return this._options.editorLock}getEditController(){return this._editController}getColumnIndex(t){return this._colById[t]}getInitialColumnIndex(t){return this._initColById[t]}autosizeColumns(){
var t=this._viewportInfo,e=t.hasVScroll?t.width-this._scrollDims.width:t.width;var i=D(this._cols,e,this._absoluteColMinWidth);this.applyColumnHeaderWidths();this.updateCanvasWidth(true);if(i){this.invalidateAllRows();this.render()}}applyColumnHeaderWidths(){if(!this._initialized){return}var t;for(var e=0,i=this._cols,s=i.length,o=this._headerColumnWidthDiff;e<s;e++){t=this._layout.getHeaderColumn(e);if(t){var l=i[e].width-o;if(t.offsetWidth!==l){t.style.width=l+"px"}}}this.updateViewColLeftRight()}setSortColumn(t,e){this.setSortColumns([{columnId:t,sortAsc:e}])}setSortColumns(t){this._sortColumns=t||[];var e=[];this._layout.getHeaderCols().forEach((t=>e=e.concat(Array.from(t.children))));e.forEach((t=>{t.classList.remove("slick-header-column-sorted");var e=t.querySelector(".slick-sort-indicator");e&&e.classList.remove("slick-sort-indicator-asc","slick-sort-indicator-desc")}));this._sortColumns.forEach((t=>{if(t.sortAsc==null){t.sortAsc=true}var i=this.getColumnIndex(t.columnId)
;if(i!=null){var s=e[i];if(s){s.classList.add("slick-header-column-sorted");var o=s.querySelector(".slick-sort-indicator");o&&o.classList.add(t.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")}}}))}getSortColumns(){return this._sortColumns}getColumns(){return this._cols}getInitialColumns(){return this._initCols}updateViewColLeftRight(){this._colLeft=[];this._colRight=[];var t=0,e,i=this._cols,s,o=i.length,l=this._layout.getFrozenCols();for(var s=0;s<o;s++){if(l===s)t=0;e=t+i[s].width;this._colLeft[s]=t;this._colRight[s]=e;t=e}}setInitialCols(t){var e=this._colDefaults;var i={};var s=[];var o={};var l,r,n;for(l=0;l<t.length;l++){r=t[l];for(n in e){if(r[n]===void 0)r[n]=this._colDefaults[n]}if(r.minWidth&&r.width<r.minWidth){r.width=r.minWidth}if(r.maxWidth&&r.width>r.maxWidth){r.width=r.maxWidth}i[r.id]=l;if(r.visible!==false)s.push(r)}s=this._layout.reorderViewColumns(s,this._options);for(l=0;l<s.length;l++){r=s[l];o[r.id]=l}this._initCols=t;this._initColById=i
;this._cols=s;this._colById=o}setColumns(t){var e;this.setInitialCols(t);this.updateViewColLeftRight();if(this._initialized){this._layout.setPaneVisibility();this.setOverflow();this.invalidateAllRows();this.createColumnHeaders();this.createColumnFooters();this.updateGrandTotals();this.removeCssRules();this.createCssRules();this.resizeCanvas();this.updateCanvasWidth();this._layout.applyColumnWidths();this.handleScroll();(e=this.getSelectionModel())==null?void 0:e.refreshSelections()}}getOptions(){return this._options}setOptions(t,e,i,s){var o;if(!this.getEditorLock().commitCurrentEdit()){return}this.makeActiveCellNormal();if(t.showColumnHeader!==void 0){this.setColumnHeaderVisibility(t.showColumnHeader)}if(this._options.enableAddRow!==t.enableAddRow){this.invalidateRow(this.getDataLength())}this._options=Object.assign(this._options,t);this.validateAndEnforceOptions();this._layout.afterSetOptions(t);if(t.columns&&!i){this.setColumns((o=t.columns)!=null?o:this._initCols)}if(!s){
this.setOverflow()}this._layout.setScroller();if(!e)this.render()}validateAndEnforceOptions(){if(this._options.autoHeight){this._options.leaveSpaceForNewRows=false}}bindToData(){if(this._data){this._data.onRowCountChanged&&this._data.onRowCountChanged.subscribe(this.viewOnRowCountChanged);this._data.onRowsChanged&&this._data.onRowsChanged.subscribe(this.viewOnRowsChanged);this._data.onDataChanged&&this._data.onDataChanged.subscribe(this.viewOnDataChanged)}}unbindFromData(){if(this._data){this._data.onRowCountChanged&&this._data.onRowCountChanged.unsubscribe(this.viewOnRowCountChanged);this._data.onRowsChanged&&this._data.onRowsChanged.unsubscribe(this.viewOnRowsChanged);this._data.onDataChanged&&this._data.onDataChanged.unsubscribe(this.viewOnDataChanged)}}setData(t,e){this.unbindFromData();this._data=t;this.bindToData();this.invalidateAllRows();this.updateRowCount();if(e){this.scrollTo(0)}}getData(){return this._data}getDataLength(){if(this._data.getLength){
return this._data.getLength()}else{return this._data.length}}getDataLengthIncludingAddNew(){return this.getDataLength()+(!this._options.enableAddRow?0:!this._pagingActive||this._pagingIsLastPage?1:0)}getDataItem(t){if(this._data.getItem){return this._data.getItem(t)}else{return this._data[t]}}getTopPanel(){return this._layout.getTopPanelFor(0)}setTopPanelVisibility(t){if(this._options.showTopPanel!=t){this._options.showTopPanel=!!t;this._layout.getTopPanelNodes().forEach((e=>{if(this._jQuery)this._jQuery(e)[t?"slideDown":"slideUp"]("fast",this.resizeCanvas);else{e.style.display=t?"":"none";this.resizeCanvas()}}))}}setColumnHeaderVisibility(t,e){if(this._options.showColumnHeader!=t){this._options.showColumnHeader=t;this._layout.getHeaderCols().forEach((i=>{const s=i.parentElement;if(e&&this._jQuery)this._jQuery(s)[t?"slideDown":"slideUp"]("fast",this.resizeCanvas);else{s.style.display=t?"":"none";this.resizeCanvas()}}))}}setFooterRowVisibility(t){if(this._options.showFooterRow!=t){
this._options.showFooterRow=!!t;this._layout.getFooterRowCols().forEach((e=>{const i=e.parentElement;if(this._jQuery)this._jQuery(i)[t?"slideDown":"slideUp"]("fast",this.resizeCanvas);else{i.style.display=t?"":"none";this.resizeCanvas()}}))}}setGroupingPanelVisibility(t){if(this._options.showGroupingPanel!=t){this._options.showGroupingPanel=t;if(!this._options.groupingPanel)return;const e=this._groupingPanel;if(this._jQuery)this._jQuery(e)[t?"slideDown":"slideUp"]("fast",this.resizeCanvas);else{e.style.display=t?"":"none";this.resizeCanvas()}}}setPreHeaderPanelVisibility(t){this.setGroupingPanelVisibility(t)}setHeaderRowVisibility(t){if(this._options.showHeaderRow!=t){this._options.showHeaderRow=t;this._layout.getHeaderRowCols().forEach((e=>{const i=e.parentElement;if(this._jQuery)this._jQuery(i)[t?"slideDown":"slideUp"]("fast",this.resizeCanvas);else{i.style.display=t?"":"none";this.resizeCanvas()}}))}}getContainerNode(){return this._container}getUID(){return this._uid}getRowTop(t){
return this._options.rowHeight*t-this._pageOffset}getRowFromPosition(t){return Math.floor((t+this._pageOffset)/this._options.rowHeight)}scrollTo(t){const e=this._viewportInfo;t=Math.max(t,0);t=Math.min(t,e.virtualHeight-Math.round(this._jQuery(this._layout.getScrollContainerY()).height())+(e.hasHScroll||this.hasFrozenColumns()?this._scrollDims.height:0));var i=this._pageOffset;this._page=Math.min(this._numberOfPages-1,Math.floor(t/this._pageHeight));this._pageOffset=Math.round(this._page*this._jumpinessCoefficient);var s=t-this._pageOffset;if(this._pageOffset!=i){var o=this.getVisibleRange(s);this.cleanupRows(o);this.updateRowPositions()}if(this._scrollTopPrev!=s){this._vScrollDir=this._scrollTopPrev+i<s+this._pageOffset?1:-1;this._scrollTopRendered=this._scrollTop=this._scrollTopPrev=s;this._layout.handleScrollV();this._layout.getScrollContainerY().scrollTop=s;this.trigger(this.onViewportChanged)}}getFormatter(t,e){var i=this._data;if(i.getItemMetadata){const o=i.getItemMetadata(t)
;if(o){const t=o.columns;if(t){var s=t[e.id]||t[this.getColumnIndex(e.id)];if(s){if(s.format)return s.format;if(s.formatter)return c(s.formatter)}}if(o.format)return o.format;if(o.formatter)return c(o.formatter)}}if(e.format)return e.format;if(e.formatter)return c(e.formatter);var o=this._options;var l=o.formatterFactory;if(l){if(l.getFormat){var r=l.getFormat(e);if(r)return r}else if(l.getFormatter){var n=l.getFormatter(e);if(n)return c(n)}}if(o.defaultFormat)return o.defaultFormat;if(o.defaultFormatter)return c(o.defaultFormatter);return g}getFormatterContext(t,e){var i=this._cols[e];var s=this.getDataItem(t);const o={cell:e,column:i,grid:this,escape:u,item:s,row:t};if(s)o.value=this.getDataItemValueForColumn(s,i);return o}getEditor(t,e){var i=this._cols[e];var s=this._data.getItemMetadata&&this._data.getItemMetadata(t);var o=s&&s.columns;if(o&&o[i.id]&&o[i.id].editor!==void 0){return o[i.id].editor}if(o&&o[e]&&o[e].editor!==void 0){return o[e].editor}
return i.editor||this._options.editorFactory&&this._options.editorFactory.getEditor(i)}getDataItemValueForColumn(t,e){if(this._options.dataItemColumnValueExtractor)return this._options.dataItemColumnValueExtractor(t,e);return t[e.field]}appendRowHtml(t,e,i,s,o){var l=this.getDataItem(i);var r=i<o&&!l;var n="slick-row"+(this._layout.isFrozenRow(i)?" frozen":"")+(r?" loading":"")+(i===this._activeRow?" active":"")+(i%2==1?" odd":" even");if(!l){n+=" "+this._options.addNewRowCssClass}var a=this._data.getItemMetadata&&this._data.getItemMetadata(i);if(a&&a.cssClasses){n+=" "+a.cssClasses}var h=this._layout.getFrozenRowOffset(i);var d="<div class='"+(this._options.useLegacyUI?"ui-widget-content ":"")+n+"' style='top:"+(this.getRowTop(i)-h)+"px'>";t.push(d);const c=this._layout.getFrozenCols();if(c){e.push(d)}var u,g,f=this._cols;for(var v=0,p=f.length;v<p;v++){var _=null;g=f[v];u=1;if(a&&a.columns){_=a.columns[g.id]||a.columns[v];u=_&&_.colspan||1;if(u==="*"){u=p-v}}
if(this._colRight[Math.min(p-1,v+u-1)]>s.leftPx){if(this._colLeft[v]>s.rightPx){break}this.appendCellHtml(c>0&&v>=c?e:t,i,v,u,l,_)}if(u>1){v+=u-1}}t.push("</div>");if(c){e.push("</div>")}}appendCellHtml(t,e,i,s,o,l){var r,n,a,h,d;var c=this._cols,g=this._layout.getFrozenCols(),f=c[i];var v="slick-cell l"+i+" r"+Math.min(c.length-1,i+s-1)+(f.cssClass?" "+f.cssClass:"");if(i<g)v+=" frozen";if(e===this._activeRow&&i===this._activeCell)v+=" active";if(l&&l.cssClasses){v+=" "+l.cssClasses}for(var p in this._cellCssClasses){if(this._cellCssClasses[p][e]&&this._cellCssClasses[p][e][f.id]){v+=" "+this._cellCssClasses[p][e][f.id]}}var _;const C={cell:i,column:f,escape:u,grid:this,item:o,row:e};if(o){C.value=this.getDataItemValueForColumn(o,f);_=this.getFormatter(e,f)(C)}v=u(v);if(((r=C.addClass)==null?void 0:r.length)||((n=C.addAttrs)==null?void 0:n.length)||((a=C.tooltip)==null?void 0:a.length)){if((h=C.addClass)==null?void 0:h.length)v+=" "+u(C.addClass);t.push('<div class="'+v+'"')
;if((d=C.addClass)==null?void 0:d.length)t.push(' data-fmtcls="'+u(C.addClass)+'"');var w=C.addAttrs;if(w!=null){var m=[];for(var y in w){t.push(y+'="'+u(w[y])+'"');m.push(y)}t.push(' data-fmtatt="'+u(m.join(","))+'"')}var R=C.tooltip;if(R!=null&&R.length)t.push('tooltip="'+u(R)+'"');if(_!=null)t.push(">"+_+"</div>");else t.push("></div>")}else if(_!=null)t.push('<div class="'+v+'">'+_+"</div>");else t.push('<div class="'+v+'"></div>');this._rowsCache[e].cellRenderQueue.push(i);this._rowsCache[e].cellColSpans[i]=s}cleanupRows(t){var e;for(var i in this._rowsCache){e=parseInt(i,10);if(e!==this._activeRow&&(e<t.top||e>t.bottom)&&!this._layout.isFrozenRow(e))this.removeRowFromCache(e)}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}invalidate(){this.updateRowCount();this.invalidateAllRows();this.render();this.updateGrandTotals()}invalidateAllRows(){if(this._currentEditor){this.makeActiveCellNormal()}for(var t in this._rowsCache){
this.removeRowFromCache(parseInt(t,10))}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}queuePostProcessedRowForCleanup(t,e,i){var s,o;this._postProcessGroupId++;for(var l in e){if(e.hasOwnProperty(l)){var r=parseInt(l,10);this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,cellNode:t.cellNodesByColumnIdx[r|0],columnIdx:r|0,rowIdx:i})}}this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,rowNodeL:t.rowNodeL,rowNodeR:t.rowNodeR});(s=t.rowNodeL)==null?void 0:s.remove();(o=t.rowNodeR)==null?void 0:o.remove()}queuePostProcessedCellForCleanup(t,e,i){this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,cellNode:t,columnIdx:e,rowIdx:i});this._jQuery(t).detach()}removeRowFromCache(t){var e,i,s,o;var l=this._rowsCache[t];if(!l){return}if(this._options.enableAsyncPostRenderCleanup&&this._postProcessedRows[t]){this.queuePostProcessedRowForCleanup(l,this._postProcessedRows[t],t)}else{
(i=(e=l.rowNodeL)==null?void 0:e.parentElement)==null?void 0:i.removeChild(l.rowNodeL);(o=(s=l.rowNodeR)==null?void 0:s.parentElement)==null?void 0:o.removeChild(l.rowNodeR)}delete this._rowsCache[t];delete this._postProcessedRows[t]}invalidateRows(t){var e,i;if(!t||!t.length){return}this._vScrollDir=0;for(e=0,i=t.length;e<i;e++){if(this._currentEditor&&this._activeRow===t[e]){this.makeActiveCellNormal()}if(this._rowsCache[t[e]]){this.removeRowFromCache(t[e])}}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}invalidateRow(t){this.invalidateRows([t])}updateCell(t,e){var i=this.getCellNode(t,e);if(!i)return;if(this._currentEditor&&this._activeRow===t&&this._activeCell===e){this._currentEditor.loadValue(this.getDataItem(t))}else{this.updateCellWithFormatter(i,t,e);this.invalidatePostProcessingResults(t)}}updateCellWithFormatter(t,e,i){var s;const o=this.getFormatterContext(e,i);if(o.item)s=this.getFormatter(e,o.column)(o);h(o,s,t)}updateRow(t){
var e=this._rowsCache[t];if(!e){return}this.ensureCellNodesInRowsCache(t);var i=this.getDataItem(t);for(var s in e.cellNodesByColumnIdx){if(!e.cellNodesByColumnIdx.hasOwnProperty(s)){continue}var o=parseInt(s,10);if(t===this._activeRow&&o===this._activeCell&&this._currentEditor){this._currentEditor.loadValue(i)}else{this.updateCellWithFormatter(e.cellNodesByColumnIdx[o],t,o)}}this.invalidatePostProcessingResults(t)}calcViewportSize(){const t=this._layout;const e=this._viewportInfo;e.width=j(this._container);e.groupingPanelHeight=this._options.groupingPanel&&this._options.showGroupingPanel?this._options.groupingPanelHeight+O(this._groupingPanel):0;e.topPanelHeight=this._options.showTopPanel?this._options.topPanelHeight+O(t.getTopPanelFor(0).parentElement):0;e.headerRowHeight=this._options.showHeaderRow?this._options.headerRowHeight+O(t.getHeaderRowColsFor(0).parentElement):0
;e.footerRowHeight=this._options.showFooterRow?this._options.footerRowHeight+O(t.getFooterRowColsFor(0).parentElement):0;e.headerHeight=this._options.showColumnHeader?parseFloat(getComputedStyle(t.getHeaderColsFor(0).parentElement).height)+O(t.getHeaderColsFor(0).parentElement):0;if(this._options.autoHeight){e.height=this._options.rowHeight*this.getDataLengthIncludingAddNew();if(this._layout.calcCanvasWidth()>e.width)e.height+=this._scrollDims.height}else{var i=getComputedStyle(this._container);e.height=parseFloat(i.height)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-e.headerHeight-e.topPanelHeight-e.headerRowHeight-e.footerRowHeight-e.groupingPanelHeight}e.numVisibleRows=Math.ceil(e.height/this._options.rowHeight)}updatePagingStatusFromView(t){this._pagingActive=t.pageSize!==0;this._pagingIsLastPage=t.pageNum==t.totalPages-1}updateRowCount(){if(!this._initialized){return}var t=this.getDataLengthIncludingAddNew();var e=this._layout.getScrollCanvasY()
;var i=Math.round(parseFloat(getComputedStyle(e).height));var s;const o=this._layout.getFrozenRows();if(o){s=this.getDataLength()-o}else{s=t+(this._options.leaveSpaceForNewRows?this._viewportInfo.numVisibleRows-1:0)}var l=Math.round(parseFloat(getComputedStyle(this._layout.getScrollContainerY()).height));const r=this._viewportInfo;var n=r.hasVScroll;r.hasVScroll=!this._options.autoHeight&&s*this._options.rowHeight>l;this.makeActiveCellNormal();var a=t-1;for(var h in this._rowsCache){var d=parseInt(h,10);if(d>=a){this.removeRowFromCache(d)}}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup();r.virtualHeight=Math.max(this._options.rowHeight*s,l-this._scrollDims.height);if(this._activeCellNode&&this._activeRow>a){this.resetActiveCell()}if(r.virtualHeight<k()){r.realScrollHeight=this._pageHeight=r.virtualHeight;this._numberOfPages=1;this._jumpinessCoefficient=0}else{r.realScrollHeight=k();this._pageHeight=r.realScrollHeight/100
;this._numberOfPages=Math.floor(r.virtualHeight/this._pageHeight);this._jumpinessCoefficient=(r.virtualHeight-r.realScrollHeight)/(this._numberOfPages-1)}if(r.realScrollHeight!==i){this._layout.realScrollHeightChange();this._scrollTop=this._layout.getScrollContainerY().scrollTop}var c=this._scrollTop+this._pageOffset<=r.virtualHeight-l;if(r.virtualHeight==0||this._scrollTop==0){this._page=this._pageOffset=0}else if(c){this.scrollTo(this._scrollTop+this._pageOffset)}else{this.scrollTo(r.virtualHeight-l)}if(r.realScrollHeight!=i&&this._options.autoHeight){this.resizeCanvas()}if(this._options.forceFitColumns&&n!=r.hasVScroll){this.autosizeColumns()}this.updateCanvasWidth(false)}getViewport(t,e){return this.getVisibleRange(t,e)}getVisibleRange(t,e){if(t==null){t=this._scrollTop}if(e==null){e=this._scrollLeft}return{top:this.getRowFromPosition(t),bottom:this.getRowFromPosition(t+this._viewportInfo.height)+1,leftPx:e,rightPx:e+this._viewportInfo.width}}getRenderedRange(t,e){
var i=this.getVisibleRange(t,e);var s=Math.round(this._viewportInfo.height/this._options.rowHeight);var o=this._options.minBuffer||3;if(this._vScrollDir==-1){i.top-=s;i.bottom+=o}else if(this._vScrollDir==1){i.top-=o;i.bottom+=s}else{i.top-=o;i.bottom+=o}i.top=Math.max(0,i.top);i.bottom=Math.min(this.getDataLengthIncludingAddNew()-1,i.bottom);if(this._options.renderAllCells){i.leftPx=0;i.rightPx=this._layout.getCanvasWidth()}else{i.leftPx-=this._viewportInfo.width;i.rightPx+=this._viewportInfo.width;i.leftPx=Math.max(0,i.leftPx);i.rightPx=Math.min(this._layout.getCanvasWidth(),i.rightPx)}return i}ensureCellNodesInRowsCache(t){var e,i,s,o;var l=this._rowsCache[t];if(l){if(l.cellRenderQueue.length){var r=(s=(e=l.rowNodeR)==null?void 0:e.lastElementChild)!=null?s:(i=l.rowNodeL)==null?void 0:i.lastElementChild;while(r&&l.cellRenderQueue.length){var n=l.cellRenderQueue.pop();l.cellNodesByColumnIdx[n]=r;r=r.previousElementSibling;if(r==null)r=(o=l.rowNodeL)==null?void 0:o.lastElementChild}}}
}cleanUpCells(t,e){if(this._layout.isFrozenRow(e))return;var i=this._rowsCache[e];var s=[],o=this._layout.getFrozenCols();for(var l in i.cellNodesByColumnIdx){if(!i.cellNodesByColumnIdx.hasOwnProperty(l)){continue}var r=parseInt(l,10);if(r<o){continue}var n=i.cellColSpans[r],a=this._cols;if(this._colLeft[r]>t.rightPx||this._colRight[Math.min(a.length-1,r+n-1)]<t.leftPx){if(!(e==this._activeRow&&r===this._activeCell)){s.push(r)}}}var h,d;this._postProcessGroupId++;while((h=s.pop())!=null){d=i.cellNodesByColumnIdx[h];if(this._options.enableAsyncPostRenderCleanup&&this._postProcessedRows[e]&&this._postProcessedRows[e][h]){this.queuePostProcessedCellForCleanup(d,h,e)}else{d.parentElement.removeChild(d)}delete i.cellColSpans[h];delete i.cellNodesByColumnIdx[h];if(this._postProcessedRows[e]){delete this._postProcessedRows[e][h]}}}cleanUpAndRenderCells(t){var e;var i=[];var s=[];var o;var l;var r=this._cols;for(var n=t.top,a=t.bottom;n<=a;n++){e=this._rowsCache[n];if(!e){continue}
this.ensureCellNodesInRowsCache(n);this.cleanUpCells(t,n);o=0;var h=this._data.getItemMetadata&&this._data.getItemMetadata(n);var d=h&&h.columns;var c=this.getDataItem(n);for(var u=0,g=r.length;u<g;u++){if(this._colLeft[u]>t.rightPx){break}if((l=e.cellColSpans[u])!=null){u+=l>1?l-1:0;continue}var f=null;l=1;if(d){f=d[r[u].id]||d[u];l=f&&f.colspan||1;if(l==="*"){l=g-u}}if(this._colRight[Math.min(g-1,u+l-1)]>t.leftPx){this.appendCellHtml(i,n,u,l,c,f);o++}u+=l>1?l-1:0}if(o){s.push(n)}}if(!i.length){return}var v=document.createElement("div");v.innerHTML=i.join("");var p;var _,C=this._layout.getFrozenCols();while((p=s.pop())!=null){e=this._rowsCache[p];var w;while((w=e.cellRenderQueue.pop())!=null){_=v.lastElementChild;if(C>0&&w>=C){e.rowNodeR.appendChild(_)}else{e.rowNodeL.appendChild(_)}e.cellNodesByColumnIdx[w]=_}}}renderRows(t){var e=[],i=[],s=[],o=false,l=this.getDataLength();for(var r=t.top,n=t.bottom;r<=n;r++){
if(this._rowsCache[r]||this.hasFrozenRows()&&this._options.frozenBottom&&r==l){continue}s.push(r);this._rowsCache[r]={rowNodeL:null,rowNodeR:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};this.appendRowHtml(e,i,r,t,l);if(this._activeCellNode&&this._activeRow===r){o=true}}if(!s.length){return}var a=document.createElement("div"),h=document.createElement("div");a.innerHTML=e.join("");h.innerHTML=i.join("");const d=this._layout;for(var r=0,n=s.length;r<n;r++){var c=s[r];var u=this._rowsCache[c];u.rowNodeL=a.firstElementChild;u.rowNodeR=h.firstElementChild;d.appendCachedRow(c,u.rowNodeL,u.rowNodeR)}if(o){this._activeCellNode=this.getCellNode(this._activeRow,this._activeCell)}}startPostProcessing(){if(!this._options.enableAsyncPostRender){return}clearTimeout(this._hPostRender);if(this._options.asyncPostRenderDelay<0){this.asyncPostProcessRows()}else{this._hPostRender=setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay)}}
startPostProcessingCleanup(){if(!this._options.enableAsyncPostRenderCleanup){return}clearTimeout(this._hPostRenderCleanup);if(this._options.asyncPostCleanupDelay<0){this.asyncPostProcessCleanupRows()}else{this._hPostRenderCleanup=setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostCleanupDelay)}}invalidatePostProcessingResults(t){if(this._options.enableAsyncPostRenderCleanup){for(var e in this._postProcessedRows[t]){if(this._postProcessedRows[t].hasOwnProperty(e)){this._postProcessedRows[t][e]="C"}}}else{delete this._postProcessedRows[t]}this._postProcessFromRow=Math.min(this._postProcessFromRow,t);this._postProcessToRow=Math.max(this._postProcessToRow,t);this.startPostProcessing()}updateRowPositions(){for(var t in this._rowsCache){var e=this._rowsCache[t];var i=this.getRowTop(parseInt(t,10))+"px";e.rowNodeL&&(e.rowNodeL.style.top=i);e.rowNodeR&&(e.rowNodeR.style.top=i)}}updateGrandTotals(){var t,e;if(!this._options.showFooterRow||!this._initialized)return
;var i;if(this._data&&this._data.getGrandTotals)i=this._data.getGrandTotals();i=i!=null?i:{};var s=this._cols;for(var o of s){if(o.id!=void 0){var l=(t=o.groupTotalsFormatter)!=null?t:this._options.groupTotalsFormatter;if(!l)continue;var r=(e=l(i,o,this))!=null?e:"";this.getFooterRowColumn(o.id).innerHTML=r}}}handleMouseWheel(t,e,i,s){i=(typeof i=="undefined"?t.originalEvent.deltaX:i)||0;s=(typeof s=="undefined"?t.originalEvent.deltaY:s)||0;this._scrollTop=Math.max(0,this._layout.getScrollContainerY().scrollTop-s*this._options.rowHeight);this._scrollLeft=this._layout.getScrollContainerX().scrollLeft+i*10;this.handleScroll(true)}handleScroll(t){this._scrollTop=this._layout.getScrollContainerY().scrollTop;this._scrollLeft=this._layout.getScrollContainerX().scrollLeft;var e=Math.abs(this._scrollTop-this._scrollTopPrev);var i=Math.abs(this._scrollLeft-this._scrollLeftPrev);if(i||e)this._ignoreScrollUntil=(new Date).getTime()+100;if(i){this._scrollLeftPrev=this._scrollLeft
;this._layout.getScrollContainerX().scrollLeft=this._scrollLeft;this._layout.handleScrollH()}const s=this._viewportInfo;if(e){this._vScrollDir=this._scrollTopPrev<this._scrollTop?1:-1;this._scrollTopPrev=this._scrollTop;if(t===true){this._layout.getScrollContainerY().scrollTop=this._scrollTop}this._layout.handleScrollV();if(e<this._viewportInfo.height){this.scrollTo(this._scrollTop+this._pageOffset)}else{var o=this._pageOffset;if(s.realScrollHeight==s.height){this._page=0}else{this._page=Math.min(this._numberOfPages-1,Math.floor(this._scrollTop*((s.virtualHeight-this._viewportInfo.height)/(s.realScrollHeight-this._viewportInfo.height))*(1/this._pageHeight)))}this._pageOffset=Math.round(this._page*this._jumpinessCoefficient);if(o!=this._pageOffset){this.invalidateAllRows()}}}if(i||e){if(this._hRender){clearTimeout(this._hRender)}if(Math.abs(this._scrollTopRendered-this._scrollTop)>20||Math.abs(this._scrollLeftRendered-this._scrollLeft)>20){
if(this._options.forceSyncScrolling||this._options.forceSyncScrollInterval&&this._lastRenderTime<(new Date).getTime()-this._options.forceSyncScrollInterval){this.render()}else{this._hRender=setTimeout(this.render,50)}this.trigger(this.onViewportChanged)}}this.trigger(this.onScroll,{scrollLeft:this._scrollLeft,scrollTop:this._scrollTop});return!!(i||e)}asyncPostProcessRows(){var t=this.getDataLength();var e=this._cols;while(this._postProcessFromRow<=this._postProcessToRow){var i=this._vScrollDir>=0?this._postProcessFromRow++:this._postProcessToRow--;var s=this._rowsCache[i];if(!s||i>=t){continue}if(!this._postProcessedRows[i]){this._postProcessedRows[i]={}}this.ensureCellNodesInRowsCache(i);for(var o in s.cellNodesByColumnIdx){if(!s.cellNodesByColumnIdx.hasOwnProperty(o)){continue}var l=parseInt(o,10);var r=e[l];var n=this._postProcessedRows[i][l];if(n!=="R"){if(r.asyncPostRender||r.asyncPostRenderCleanup){var a=s.cellNodesByColumnIdx[l];if(a){
r.asyncPostRender&&r.asyncPostRender(a,i,this.getDataItem(i),r,n==="C")}}this._postProcessedRows[i][l]="R"}}if(this._options.asyncPostRenderDelay>=0){this._hPostRender=setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay);return}}}asyncPostProcessCleanupRows(){var t=this._cols;while(this._postProcessCleanupQueue.length>0){var e=this._postProcessCleanupQueue[0].groupId;while(this._postProcessCleanupQueue.length>0&&this._postProcessCleanupQueue[0].groupId==e){var i=this._postProcessCleanupQueue.shift();i.rowNodeL&&i.rowNodeL.remove();i.rowNodeR&&i.rowNodeR.remove();if(i.cellNode!=null){var s=t[i.columnIdx];if(s&&s.asyncPostRenderCleanup){s.asyncPostRenderCleanup(i.cellNode,i.rowIdx,s);i.cellNode.remove()}}}if(this._options.asyncPostRenderDelay>=0){this._hPostRenderCleanup=setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostCleanupDelay);return}}}updateCellCssStylesOnRenderedRows(t,e){var i,s,o,l;for(var r in this._rowsCache){
l=e&&e[r];o=t&&t[r];if(l){for(s in l){if(!o||l[s]!=o[s]){i=this.getCellNode(parseInt(r,10),this.getColumnIndex(s));if(i){const t=l[s];R(i,t)}}}}if(o){for(s in o){if(!l||l[s]!=o[s]){i=this.getCellNode(parseInt(r,10),this.getColumnIndex(s));if(i){const t=o[s];a(i,t)}}}}}}addCellCssStyles(t,e){if(this._cellCssClasses[t]){throw"addCellCssStyles: cell CSS hash with key '"+t+"' already exists."}this._cellCssClasses[t]=e;this.updateCellCssStylesOnRenderedRows(e,null);this.trigger(this.onCellCssStylesChanged,{key:t,hash:e})}removeCellCssStyles(t){if(!this._cellCssClasses[t]){return}this.updateCellCssStylesOnRenderedRows(null,this._cellCssClasses[t]);delete this._cellCssClasses[t];this.trigger(this.onCellCssStylesChanged,{key:t,hash:null})}setCellCssStyles(t,e){var i=this._cellCssClasses[t];this._cellCssClasses[t]=e;this.updateCellCssStylesOnRenderedRows(e,i);this.trigger(this.onCellCssStylesChanged,{key:t,hash:e})}getCellCssStyles(t){return this._cellCssClasses[t]}flashCell(t,e,i){i=i||100
;if(this._rowsCache[t]){var s=this._jQuery(this.getCellNode(t,e));l(4)}var o=this._options.cellFlashingCssClass;function l(t){if(!t){return}setTimeout((function(){s.queue((function(){s.toggleClass(o).dequeue();l(t-1)}))}),i)}}handleDragInit(t,e){var i=this.getCellFromEvent(t);if(!i||!this.cellExists(i.row,i.cell)){return false}var s=this.trigger(this.onDragInit,e,t);if(t.isImmediatePropagationStopped&&t.isImmediatePropagationStopped()){return s}return false}handleDragStart(t,e){var i=this.getCellFromEvent(t);if(!i||!this.cellExists(i.row,i.cell)){return false}var s=this.trigger(this.onDragStart,e,t);if(t.isImmediatePropagationStopped&&t.isImmediatePropagationStopped()){return s}return false}handleDrag(t,e){return this.trigger(this.onDrag,e,t)}handleDragEnd(t,e){this.trigger(this.onDragEnd,e,t)}handleKeyDown(t){this.trigger(this.onKeyDown,{row:this._activeRow,cell:this._activeCell},t);var e=t.isImmediatePropagationStopped&&t.isImmediatePropagationStopped();if(!e){
if(!t.shiftKey&&!t.altKey){if(this._options.editable&&this._currentEditor&&this._currentEditor.keyCaptureList){if(this._currentEditor.keyCaptureList.indexOf(t.which)>=0){return}}if(t.key==="Home"){if(t.ctrlKey){this.navigateTop();e=true}else e=this.navigateRowStart()}else if(t.key==="End"){if(t.ctrlKey){this.navigateBottom();e=true}else e=this.navigateRowEnd()}}}if(!e){if(!t.shiftKey&&!t.altKey&&!t.ctrlKey){if(this._options.editable&&this._currentEditor&&this._currentEditor.keyCaptureList){if(this._currentEditor.keyCaptureList.indexOf(t.which)>=0){return}}if(t.key==="Esc"||t.key==="Escape"){if(!this.getEditorLock().isActive()){return}this.cancelEditAndSetFocus()}else if(t.key==="PageDown"){this.navigatePageDown();e=true}else if(t.key==="PageUp"){this.navigatePageUp();e=true}else if(t.key==="Left"||t.key==="ArrowLeft"){e=this.navigateLeft()}else if(t.key==="Right"||t.key==="ArrowRight"){e=this.navigateRight()}else if(t.key==="Up"||t.key==="ArrowUp"){e=this.navigateUp()
}else if(t.key==="Down"||t.key==="ArrowDown"){e=this.navigateDown()}else if(t.key==="Tab"){if(this._options.enableTabKeyNavigation)e=this.navigateNext()}else if(t.key==="Enter"){if(this._options.editable){if(this._currentEditor){if(this._activeRow===this.getDataLength()){this.navigateDown()}else{this.commitEditAndSetFocus()}}else{if(this.getEditorLock().commitCurrentEdit()){this.makeActiveCellEditable()}}}e=true}}else if(t.key==="Tab"&&t.shiftKey&&!t.ctrlKey&&!t.altKey){e=this.navigatePrev()}}if(e){t.stopPropagation();t.preventDefault();try{t.originalEvent.keyCode=0}catch(t){}}}handleClick(t){if(!this._currentEditor){if(t.target!=document.activeElement||this._jQuery(t.target).hasClass("slick-cell")){this.setFocus()}}var e=this.getCellFromEvent(t);if(!e||this._currentEditor!=null&&this._activeRow==e.row&&this._activeCell==e.cell){return}this.trigger(this.onClick,{row:e.row,cell:e.cell},t);if(t.isImmediatePropagationStopped&&t.isImmediatePropagationStopped()){return}
if(this.canCellBeActive(e.row,e.cell)){if(!this.getEditorLock().isActive()||this.getEditorLock().commitCurrentEdit()){var i=t.target&&t.target.classList.contains(y);var s=this._cols[e.cell];var o=!!(this._options.editable&&s&&s.editor&&this._options.suppressActiveCellChangeOnEdit);this.setActiveCellInternal(this.getCellNode(e.row,e.cell),null,i,o,t)}}}handleContextMenu(t){var e=t.target.closest(".slick-cell");if(!e){return}if(this._activeCellNode===e&&this._currentEditor!=null){return}this.trigger(this.onContextMenu,{},t)}handleDblClick(t){var e=this.getCellFromEvent(t);if(!e||this._currentEditor!=null&&this._activeRow==e.row&&this._activeCell==e.cell){return}this.trigger(this.onDblClick,{row:e.row,cell:e.cell},t);if(t.isImmediatePropagationStopped&&t.isImmediatePropagationStopped()){return}if(this._options.editable){this.gotoCell(e.row,e.cell,true)}}handleHeaderMouseEnter(t){const e=this.getColumnFromNode(t.target);e&&this.trigger(this.onHeaderMouseEnter,{column:e},t)}
handleHeaderMouseLeave(t){const e=this.getColumnFromNode(t.target);e&&this.trigger(this.onHeaderMouseLeave,{column:e},t)}handleHeaderContextMenu(t){var e=t.target.closest(".slick-header-column");var i=this.getColumnFromNode(e);i&&this.trigger(this.onHeaderContextMenu,{column:i},t)}handleHeaderClick(t){var e=t.target.closest(".slick-header-column");var i=this.getColumnFromNode(e);i&&this.trigger(this.onHeaderClick,{column:i},t)}handleMouseEnter(t){this.trigger(this.onMouseEnter,{},t)}handleMouseLeave(t){this.trigger(this.onMouseLeave,{},t)}cellExists(t,e){return!(t<0||t>=this.getDataLength()||e<0||e>=this._cols.length)}getCellFromPoint(t,e){var i=this.getRowFromPosition(e);var s=0;var o=this._cols;var l=0;for(var r=0;r<o.length&&l<t;r++){l+=o[r].width;s++}if(s<0){s=0}return{row:i,cell:s-1}}getCellFromNode(t){if(t==null)return null;var e=t.dataset.c;if(e!=null)return parseInt(e,10);var i=/\sl(\d+)\s/.exec(" "+t.className+" ");if(!i){return null}return parseInt(i[1],10)}
getColumnFromNode(t){if(t==null)return null;var e=this.getCellFromNode(t);if(e===null&&this._jQuery)return this._jQuery(e).data("column");return this._cols[e]}getRowFromNode(t){if(t!=null){for(var e in this._rowsCache){var i=this._rowsCache[e];if(i.rowNodeL===t||i.rowNodeR===t)return parseInt(e,10)}}return null}getCellFromEvent(t){var e,i;var s=t.target.closest(".slick-cell");if(!s){return null}e=this._layout.getRowFromCellNode(s,t.clientX,t.clientY);i=this.getCellFromNode(s);if(e==null||i==null){return null}else{return{row:e,cell:i}}}getCellNodeBox(t,e){if(!this.cellExists(t,e)){return null}var i=this._layout.getFrozenRowOffset(t);var s=this._cols,o=this._layout.getFrozenCols();var l=this.getRowTop(t)-i;var r=l+this._options.rowHeight-1;var n=0;for(var a=0;a<e;a++){n+=s[a].width;if(a==o-1){n=0}}var h=n+s[e].width;return this._options.rtl?{top:l,right:n,bottom:r,left:h}:{top:l,left:n,bottom:r,right:h}}resetActiveCell(){this.setActiveCellInternal(null,false)}focus(){this.setFocus()}
setFocus(){if(this._tabbingDirection==-1){this._focusSink1.focus()}else{this._focusSink2.focus()}}scrollCellIntoView(t,e,i){this.scrollRowIntoView(t,i);if(e<this._layout.getFrozenCols())return;var s=this.getColspan(t,e);this.internalScrollColumnIntoView(this._colLeft[e],this._colRight[e+(s>1?s-1:0)])}scrollColumnIntoView(t){this.internalScrollColumnIntoView(this._colLeft[t],this._colRight[t])}internalScrollColumnIntoView(t,e){var i=this._scrollLeft+parseFloat(getComputedStyle(this._layout.getScrollContainerX()).width)-(this._viewportInfo.hasVScroll?this._scrollDims.width:0);var s;if(t<this._scrollLeft)s=t;else if(e>i)s=Math.min(t,e-this._layout.getScrollContainerX().clientWidth);else return;this._layout.getScrollContainerX().scrollLeft=s;this.handleScroll();this.render()}setActiveCellInternal(t,e,i,s,o){var l,r;if(this._activeCellNode!=null){this.makeActiveCellNormal();this._activeCellNode.classList.remove("active");var n=this._rowsCache[this._activeRow];if(n){
n.rowNodeL&&n.rowNodeL.classList.remove("active");n.rowNodeR&&n.rowNodeR.classList.remove("active")}}this._activeCellNode=t;if(this._activeCellNode!=null){var a=this._activeCellNode.getBoundingClientRect();var h=Math.floor((r=(l=this._activeCellNode.closest(".grid-canvas"))==null?void 0:l.getBoundingClientRect().top)!=null?r:0+document.body.scrollTop);var d=this._activeCellNode.closest(".grid-canvas-bottom")!=null;if(this.hasFrozenRows()&&d){h-=this._options.frozenBottom?Math.round(parseFloat(getComputedStyle(this._layout.getCanvasNodeFor(0,0)).height)):this._layout.getFrozenRows()*this._options.rowHeight}var c=this.getCellFromPoint(a[this._options.rtl?"right":"left"]+document.body.scrollLeft,Math.ceil(a.top+document.body.scrollTop)-h);this._activeRow=c.row;this._activeCell=this._activePosX=this.getCellFromNode(this._activeCellNode);if(this._options.showCellSelection){this._activeCellNode.classList.add("active");var n=this._rowsCache[this._activeRow];if(n){
n.rowNodeL&&n.rowNodeL.classList.add("active");n.rowNodeR&&n.rowNodeR.classList.add("active")}}if(e==null){e=this._activeRow==this.getDataLength()||this._options.autoEdit}if(this._options.editable&&e&&this.isCellPotentiallyEditable(this._activeRow,this._activeCell)){clearTimeout(this._hEditorLoader);if(this._options.asyncEditorLoading){this._hEditorLoader=setTimeout((()=>{this.makeActiveCellEditable(void 0,i,o)}),this._options.asyncEditorLoadDelay)}else{this.makeActiveCellEditable(void 0,i,o)}}}else{this._activeRow=this._activeCell=null}if(!s){this.trigger(this.onActiveCellChanged,this.getActiveCell())}}clearTextSelection(){if(document.selection&&document.selection.empty){try{document.selection.empty()}catch(t){}}else if(window.getSelection){var t=window.getSelection();if(t&&t.removeAllRanges){t.removeAllRanges()}}}isCellPotentiallyEditable(t,e){var i=this.getDataLength();if(t<i&&!this.getDataItem(t)){return false}if(this._cols[e].cannotTriggerInsert&&t>=i){return false}
if(!this.getEditor(t,e)){return false}return true}makeActiveCellNormal(){if(!this._currentEditor){return}this.trigger(this.onBeforeCellEditorDestroy,{editor:this._currentEditor});this._currentEditor.destroy();this._currentEditor=null;if(this._activeCellNode){this._activeCellNode.classList.remove("editable","invalid");this.updateCellWithFormatter(this._activeCellNode,this._activeRow,this._activeCell);this.invalidatePostProcessingResults(this._activeRow)}if(navigator.userAgent.toLowerCase().match(/msie/)){this.clearTextSelection()}this.getEditorLock().deactivate(this._editController)}editActiveCell(t){this.makeActiveCellEditable(t)}makeActiveCellEditable(t,e,i){if(!this._activeCellNode){return}if(!this._options.editable){throw"Grid : makeActiveCellEditable : should never get called when options.editable is false"}clearTimeout(this._hEditorLoader);if(!this.isCellPotentiallyEditable(this._activeRow,this._activeCell)){return}var s=this._cols[this._activeCell]
;var o=this.getDataItem(this._activeRow);if(this.trigger(this.onBeforeEditCell,{row:this._activeRow,cell:this._activeCell,item:o,column:s})===false){this.setFocus();return}this.getEditorLock().activate(this._editController);this._activeCellNode.classList.add("editable");var l=t||this.getEditor(this._activeRow,this._activeCell);if(!t&&!l.suppressClearOnEdit){this._activeCellNode.innerHTML=""}var r=this._data.getItemMetadata&&this._data.getItemMetadata(this._activeRow);var n=r&&r.columns;var a=n&&(n[s.id]||n[this._activeCell]);this._currentEditor=new l({grid:this,gridPosition:N(this._container),position:N(this._activeCellNode),container:this._activeCellNode,column:s,columnMetaData:a,item:o||{},event:i,editorCellNavOnLRKeys:this._options.editorCellNavOnLRKeys,commitChanges:this.commitEditAndSetFocus.bind(this),cancelChanges:this.cancelEditAndSetFocus.bind(this)});if(o){this._currentEditor.loadValue(o);if(e&&this._currentEditor.preClick){this._currentEditor.preClick()}}
this._serializedEditorValue=this._currentEditor.serializeValue();if(this._currentEditor.position){this.handleActiveCellPositionChange()}}commitEditAndSetFocus(){if(this.getEditorLock().commitCurrentEdit()){this.setFocus();if(this._options.autoEdit){this.navigateDown()}}}cancelEditAndSetFocus(){if(this.getEditorLock().cancelCurrentEdit()){this.setFocus()}}getActiveCellPosition(){return N(this._activeCellNode)}getGridPosition(){return N(this._container)}getCellEditor(){return this._currentEditor}getActiveCell(){if(!this._activeCellNode){return null}else{return{row:this._activeRow,cell:this._activeCell}}}getActiveCellNode(){return this._activeCellNode}scrollActiveCellIntoView(){if(this._activeRow!=null&&this._activeCell!=null){this.scrollCellIntoView(this._activeRow,this._activeCell)}}scrollRowIntoView(t,e){if(!this._layout.isFrozenRow(t)){var i=Math.round(parseFloat(getComputedStyle(this._layout.getScrollContainerY()).height))
;var s=this.hasFrozenRows()&&!this._options.frozenBottom?t-this._layout.getFrozenRows()+1:t;var o=s*this._options.rowHeight;var l=(s+1)*this._options.rowHeight-i+(this._viewportInfo.hasHScroll?this._scrollDims.height:0);if((s+1)*this._options.rowHeight>this._scrollTop+i+this._pageOffset){this.scrollTo(e?o:l);this.render()}else if(s*this._options.rowHeight<this._scrollTop+this._pageOffset){this.scrollTo(e?l:o);this.render()}}}scrollRowToTop(t){this.scrollTo(t*this._options.rowHeight);this.render()}scrollPage(t){var e=t*this._viewportInfo.numVisibleRows;this.scrollTo((this.getRowFromPosition(this._scrollTop)+e)*this._options.rowHeight);this.render();if(this._options.enableCellNavigation&&this._activeRow!=null){var i=this._activeRow+e;var s=this.getDataLengthIncludingAddNew();if(i>=s){i=s-1}if(i<0){i=0}var o=0,l=null;var r=this._activePosX;while(o<=this._activePosX){if(this.canCellBeActive(i,o)){l=o}o+=this.getColspan(i,o)}if(l!=null){this.setActiveCellInternal(this.getCellNode(i,l))
;this._activePosX=r}else{this.resetActiveCell()}}}navigatePageDown(){this.scrollPage(1)}navigatePageUp(){this.scrollPage(-1)}navigateTop(){this.navigateToRow(0)}navigateBottom(){this.navigateToRow(this.getDataLength()-1)}navigateToRow(t){var e=this.getDataLength();if(!e){return true}if(t<0)t=0;else if(t>=e)t=e-1;this.scrollCellIntoView(t,0,true);if(this._options.enableCellNavigation&&this._activeRow!=null){var i=0,s=null;var o=this._activePosX;while(i<=this._activePosX){if(this.canCellBeActive(t,i))s=i;i+=this.getColspan(t,i)}if(s!=null){this.setActiveCellInternal(this.getCellNode(t,s));this._activePosX=o}else this.resetActiveCell()}return true}getColspan(t,e){var i=this._data.getItemMetadata&&this._data.getItemMetadata(t);if(!i||!i.columns){return 1}var s=this._cols;var o=s[e]&&(i.columns[s[e].id]||i.columns[e]);var l=o&&o.colspan;if(l==="*"){l=s.length-e}else{l=l||1}return l}navigateRight(){return this.navigate("right")}navigateLeft(){return this.navigate("left")}navigateDown(){
return this.navigate("down")}navigateUp(){return this.navigate("up")}navigateNext(){return this.navigate("next")}navigatePrev(){return this.navigate("prev")}navigateRowStart(){return this.navigate("home")}navigateRowEnd(){return this.navigate("end")}navigate(t){if(!this._options.enableCellNavigation){return false}if(!this._activeCellNode&&t!="prev"&&t!="next"){return false}if(!this.getEditorLock().commitCurrentEdit()){return true}this.setFocus();if(!this._cellNavigator){this._cellNavigator=new I({getColumnCount:()=>this._cols.length,getRowCount:()=>this.getDataLengthIncludingAddNew(),getColspan:this.getColspan.bind(this),canCellBeActive:this.canCellBeActive.bind(this),setTabbingDirection:t=>this._tabbingDirection=t,isRTL:()=>this._options.rtl})}var e=this._cellNavigator.navigate(t,this._activeRow,this._activeCell,this._activePosX);if(e){if(this.hasFrozenRows()&&this._options.frozenBottom&&e.row==this.getDataLength()){return}var i=e.row==this.getDataLength()
;if(!this._layout.isFrozenRow(e.row)){this.scrollCellIntoView(e.row,e.cell,!i)}this.setActiveCellInternal(this.getCellNode(e.row,e.cell));this._activePosX=e.posX;return true}else{this.setActiveCellInternal(this.getCellNode(this._activeRow,this._activeCell));return false}}getCellNode(t,e){if(this._rowsCache[t]){this.ensureCellNodesInRowsCache(t);return this._rowsCache[t].cellNodesByColumnIdx[e]}return null}setActiveCell(t,e){if(!this._initialized){return}var i=this._cols;if(t>this.getDataLength()||t<0||e>=i.length||e<0){return}if(!this._options.enableCellNavigation){return}this.scrollCellIntoView(t,e,false);this.setActiveCellInternal(this.getCellNode(t,e),false)}setActiveRow(t,e,i){if(!this._initialized)return;if(t>this.getDataLength()||t<0||e>=this._cols.length||e<0)return;this._activeRow=t;if(!i)this.scrollCellIntoView(t,e||0,false)}canCellBeActive(t,e){var i=this._cols;if(!this._options.enableCellNavigation||t>=this.getDataLengthIncludingAddNew()||t<0||e>=i.length||e<0){return false}
var s=this._data.getItemMetadata&&this._data.getItemMetadata(t);if(s&&typeof s.focusable==="boolean"){return s.focusable}var o=s&&s.columns;if(o&&i[e]&&o[i[e].id]&&typeof o[i[e].id].focusable==="boolean"){return o[i[e].id].focusable}if(o&&o[e]&&typeof o[e].focusable==="boolean"){return o[e].focusable}return i[e].focusable}canCellBeSelected(t,e){var i=this._cols;if(t>=this.getDataLength()||t<0||e>=i.length||e<0){return false}var s=this._data.getItemMetadata&&this._data.getItemMetadata(t);if(s&&typeof s.selectable==="boolean"){return s.selectable}var o=s&&s.columns&&(s.columns[i[e].id]||s.columns[e]);if(o&&typeof o.selectable==="boolean"){return o.selectable}return i[e].selectable}gotoCell(t,e,i){if(!this._initialized){return}if(!this.canCellBeActive(t,e)){return}if(!this.getEditorLock().commitCurrentEdit()){return}this.scrollCellIntoView(t,e,false);var s=this.getCellNode(t,e);this.setActiveCellInternal(s,i||t===this.getDataLength()||this._options.autoEdit);if(!this._currentEditor){
this.setFocus()}}commitCurrentEdit(){var t=this.getDataItem(this._activeRow);var e=this._cols[this._activeCell];var i=this;if(this._currentEditor){if(this._currentEditor.isValueChanged()){var s=this._currentEditor.validate();if(s.valid){if(this._activeRow<this.getDataLength()){var o={row:this._activeRow,cell:i._activeCell,editor:this._currentEditor,serializedValue:this._currentEditor.serializeValue(),prevSerializedValue:this._serializedEditorValue,execute:function(){this.editor.applyValue(t,this.serializedValue);i.updateRow(this.row);i.trigger(i.onCellChange,{row:this.activeRow,cell:i._activeCell,item:t})},undo:function(){this.editor.applyValue(t,this.prevSerializedValue);i.updateRow(this.row);i.trigger(i.onCellChange,{row:this.activeRow,cell:i._activeCell,item:t})}};if(this._options.editCommandHandler){this.makeActiveCellNormal();this._options.editCommandHandler(t,e,o)}else{o.execute();this.makeActiveCellNormal()}}else{var l={}
;this._currentEditor.applyValue(l,this._currentEditor.serializeValue());this.makeActiveCellNormal();this.trigger(this.onAddNewRow,{item:l,column:e})}return!this.getEditorLock().isActive()}else{this._activeCellNode.classList.remove("invalid");this._activeCellNode.offsetWidth;this._activeCellNode.classList.add("invalid");this.trigger(this.onValidationError,{editor:this._currentEditor,cellNode:this._activeCellNode,validationResults:s,row:this._activeRow,cell:this._activeCell,column:e});this._currentEditor.focus();return false}}this.makeActiveCellNormal()}return true}cancelCurrentEdit(){this.makeActiveCellNormal();return true}rowsToRanges(t){var e=[];var i=this._cols.length-1;for(var s=0;s<t.length;s++){e.push(new P(t[s],0,t[s],i))}return e}getSelectedRows(){if(!this._selectionModel){throw"Selection model is not set"}return this._selectedRows}setSelectedRows(t){if(!this._selectionModel){throw"Selection model is not set"}this._selectionModel.setSelectedRanges(this.rowsToRanges(t))}}
;return r(n)})();["Editors","Formatters","Plugins"].forEach((t=>Slick._[t]&&(Slick[t]=Object.assign(Slick[t]||{},Slick._[t]))&&delete Slick._[t]));Object.assign(Slick,Slick._);delete Slick._;